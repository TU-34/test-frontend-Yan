function adv_close_prestitial(){IOL.adv.settings.closePrestitial()}if(window.iamInitialized||(IOL=window.IOL||{},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=Object(this),d=a.length>>>0,t=arguments[1],i=0;i!==d;i++)if(e.call(t,this[i],i,a))return this[i]}}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null==this)throw new TypeError;var a=Object(this),d=a.length>>>0;if("function"!=typeof e)throw new TypeError;for(var t,i=[],o=2<=arguments.length?arguments[1]:void 0,n=0;n<d;n++)n in a&&(t=a[n],e.call(o,t,n,a))&&i.push(t);return i}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(e){return 0<this.filter((function(a){return a==e})).length}}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=d.length;return function(i){if("function"!=typeof i&&("object"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,n,s=[];for(o in i)e.call(i,o)&&s.push(o);if(a)for(n=0;n<t;n++)e.call(i,d[n])&&s.push(d[n]);return s}}()),Object.entries||(Object.entries=function(e){for(var a=Object.keys(e),d=a.length,t=new Array(d);d--;)t[d]=[a[d],e[a[d]]];return t}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var a,d;if(null==this)throw new TypeError("this is null or not defined");var t,i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(a=arguments[1]),d=0;d<o;)d in i&&(t=i[d],e.call(a,t,d,i)),d++}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var d=Object(e),t=1;t<arguments.length;t++){if(null!=(i=arguments[t]))for(var i=Object(i),o=Object.keys(Object(i)),n=0,s=o.length;n<s;n++){var r=o[n],l=Object.getOwnPropertyDescriptor(i,r);void 0!==l&&l.enumerable&&(d[r]=i[r])}}return d}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,a){return a=0<a?0|a:0,this.substring(a,a+e.length)===e}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,a){return(void 0===a||a>this.length)&&(a=this.length),this.substring(a-e.length,a)===e}),String.prototype.replaceAt||(String.prototype.replaceAt=function(e,a){var d=this.split("");return d[e]=a,d.join("")}),String.prototype.includes||(String.prototype.includes=function(e,a){"use strict";return!((a="number"!=typeof a?0:a)+e.length>this.length)&&-1!==this.indexOf(e,a)}),String.prototype.capitalize||(String.prototype.capitalize=function(){return this.replace(/^./,(function(e){return e.toUpperCase()}))}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,a){a=a||{bubbles:!1,cancelable:!1,detail:null};var d=document.createEvent("CustomEvent");return d.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),d}),IOL.adv={classname:"IOL.adv",version:"2.7.3",server:"//www.iolam.it",hostname:window.location.hostname,url:document.URL||"",referrer:document.referrer||!1,origin:window.location.origin,domain:"",browser:!1,scriptSrc:document.currentScript?document.currentScript.src:"undefined",hasFocus:!1,pageWidth:document.documentElement.clientWidth||window.innerWidth,device:!1,referrerLabel:!1,topics:[],started:!1,complete:!1,mode:"standard",connectionType:"4g",downlink:5,trackingMsg:"",deferredIteration:0,deferredMaxIteration:500,deferredInterval:20,deferredTimer:null,displayEngine:{gpt:!0,prebid:!1,mgid:!1,ketai:!1},pubAdsCfg:{gdpr:!0,slot:"default",originalSlot:"default",section:"default",prestitial:!1,native:!1,inread:!1,customCriteria:!1,profile:!0,prebid:!0,lazy:!1,gptlazy:!1,deferredDivId:!0,deferredDisplay:!1,deferredRun:!1,forceHttps:!1,dynamicAds:{enable:!1},antiMalware:!1},gdpr:{enable:"function"==typeof __tcfapi,timer:!1,interval:100,maxIteration:20,timedOut:!1,consentString:!1,consentGoogle:!1,tcfv20:{tcData:!1,pipeline:{method:"standard",cmpApi:"iab"},rewriteConsentCookie:{enable:!1,name:"localconsent-v2",duration:90}}},profile:{enable:!1,up:{remoteHandler:"/service/up",cookie:{name:"up",duration:30},value:{trk:Math.floor(100*Math.random()+1),up:!1,ppid:!1,age:!1,gender:!1,province:!1,ext:{seat_keyword:!1},isMinor:!1},comingFrom:"none",resource:{url:""}},as:{enable:!0,cookie:{name:"as",duration:30},value:{s:[],t:[]},comingFrom:"none"}},deviceAccess:{enable:!1},syncId:{enable:!1,vendor:{amazon:{id:793,enable:!1},neustarPG:{id:468,enable:!1},neustarLinkage:{id:null,enable:!1},zeotap:{id:301,enable:!1},liveramp:{id:97,enable:!1},criteo:{id:91,enable:!1}}},videoAds:{id:!1,reqCounter:0,status:"ready",mode:"get",adUnitPath:!1,adServerUrl:!1,trueview:{threshold:999999,param:!1},hb:{enable:!1,bidders:[],complete:!1,timedOut:!1},bob:{},timer:!1},test:{enable:!1,param:"dctestAdv",cookie:{name:"advTest",duration:1},value:!1,paramAdUnitVideo:"iu",adUnitVideo:!1,slot:"test"},timer:void 0!==window.performance&&void 0!==window.performance.now,debug:{log:{enable:!1,id:!1},console:{enable:!1,handler:"/js/cnsl.js"},tracking:{enable:!1,randomInt:0,handler:"/service/trk",percentCustomerBase:1,evnt:{},time:{},adblock:!1,attr:[]}},start:function(){var e=IOL.adv.classname+".start";if(IOL.adv.tools.logger("start function",e),IOL.adv.domain=IOL.adv.tools.getDomain(window.location.host),IOL.adv.browser=IOL.adv.tools.getBrowser(),IOL.adv.hasFocus=window.document.hasFocus(),IOL.adv.device=IOL.adv.tools.getDevice(),IOL.adv.referrerLabel=IOL.adv.tools.getReferrerLabel(IOL.adv.referrer,"other"),IOL.adv.topics=IOL.adv.tools.getMetaTag("keywords",","),void 0!==navigator.connection){switch(IOL.adv.connectionType=navigator.connection.effectiveType,IOL.adv.downlink=navigator.connection.downlink,IOL.adv.connectionType){case"3g":IOL.adv.headerBidding.hbTimeout=3e3,IOL.adv.headerBidding.bidderTimeout=2500;break;case"2g":case"slow-2g":IOL.adv.headerBidding.hbTimeout=6500,IOL.adv.headerBidding.bidderTimeout=6e3,IOL.adv.tools.logger("Disable header bidding in case of slow connection",e),IOL.adv.pubAdsCfg.prebid=!1}IOL.adv.settings.disableHbOnConnectionType&&IOL.adv.settings.disableHbOnConnectionType.includes(IOL.adv.connectionType)&&(IOL.adv.pubAdsCfg.prebid=!1),IOL.adv.tools.logger("domain: "+IOL.adv.domain+", focus: "+IOL.adv.hasFocus+", connectionType: "+IOL.adv.connectionType+", downlink: "+IOL.adv.downlink+", hbTimeout: "+IOL.adv.headerBidding.hbTimeout+", bidderTimeout: "+IOL.adv.headerBidding.bidderTimeout+", prebid: "+IOL.adv.pubAdsCfg.prebid,e)}if(IOL.adv.pubAdsCfg.section&&(IOL.adv.pubAdsCfg.section=IOL.adv.pubAdsCfg.section.toLowerCase()),IOL.adv.test.value=IOL.adv.tools.getParameterByName(IOL.adv.test.param)?IOL.adv.tools.getParameterByName(IOL.adv.test.param):IOL.adv.cookie.get(IOL.adv.test.cookie.name,!0),!1!==IOL.adv.test.value)switch(IOL.adv.test.value){case"0":case"off":IOL.adv.cookie.erase(IOL.adv.test.cookie.name),IOL.adv.tools.logger("Disable test on this properties with value: "+IOL.adv.test.value,e);break;default:IOL.adv.test.enable=!0,IOL.adv.cookie.set(IOL.adv.test.cookie.name,IOL.adv.test.value,IOL.adv.test.cookie.duration,"/",IOL.adv.domain,!0),IOL.adv.pubAdsCfg.slot=IOL.adv.test.slot+("default"!==IOL.adv.pubAdsCfg.slot?"_"+IOL.adv.pubAdsCfg.slot:""),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot]?(IOL.adv.pubAdsCfg.originalSlot=IOL.adv.pubAdsCfg.slot,IOL.adv.test.adUnitVideo=!!IOL.adv.tools.getParameterByName(IOL.adv.test.paramAdUnitVideo)&&IOL.adv.tools.getParameterByName(IOL.adv.test.paramAdUnitVideo),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo&&IOL.adv.test.adUnitVideo&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo.adUnitPath=IOL.adv.test.adUnitVideo),IOL.adv.tools.logger("Enable test on this properties with value: "+IOL.adv.test.value+", adUnitVideo: "+IOL.adv.test.adUnit,e)):(IOL.adv.test.enable=!1,IOL.adv.pubAdsCfg.slot=IOL.adv.pubAdsCfg.originalSlot,IOL.adv.tools.logger("test slot does not exist, run with provided/default slot: "+IOL.adv.pubAdsCfg.slot,e,"warning"))}IOL.adv.test.enable=IOL.adv.test.enable||IOL.adv.pubAdsCfg.slot==IOL.adv.test.slot,IOL.adv.test.enable&&(IOL.adv.test.value=IOL.adv.test.value||"1"),!0===IOL.adv.pubAdsCfg.prestitial&&(IOL.adv.tools.logger("Prestitial is requested, check frequency cap.",e),"function"==typeof IOL.adv.settings.ifPrestitial?IOL.adv.settings.ifPrestitial()?(IOL.adv.pubAdsCfg.originalSlot=IOL.adv.pubAdsCfg.slot,IOL.adv.pubAdsCfg.slot="prestitial",IOL.adv.tools.logger('Prestitial enabled, override Runtime Slot with "'+IOL.adv.pubAdsCfg.slot+'"',e),IOL.adv.test.enable&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.adprestitial.adUnitPath=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.adprestitial.adUnitPathTest.replace("%PLACEHOLDER%",IOL.adv.test.value)),IOL.adv.tools.logger("prestitial adUnitPath: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.adprestitial.adUnitPath,e),IOL.adv.pubAdsCfg.prebid=!1,IOL.adv.pubAdsCfg.lazy=!1):(IOL.adv.pubAdsCfg.prestitial=!1,IOL.adv.tools.logger("Prestitial disable by ifPrestitial",e)):(IOL.adv.pubAdsCfg.prestitial=!1,IOL.adv.tools.logger("Prestitial disable, IOL.adv.settings.ifPrestitial function in not implemented but is required.",e))),IOL.adv.tools.logger("Client  pubAdsCfg: "+JSON.stringify(window.pubAdsCfg),e),IOL.adv.tools.logger("Runtime pubAdsCfg: "+JSON.stringify(IOL.adv.pubAdsCfg),e),window.grumi={cfg:{advs:{},pubIds:{}},key:"4415fe16-b37d-46de-ac5c-69d63c72d5ee"},IOL.adv.headerBidding.supplyChainSid=IOL.adv.settings.supplyChainSid||IOL.adv.headerBidding.supplyChainSid,IOL.adv.tools.logger("Apply schainSid: "+IOL.adv.headerBidding.supplyChainSid,e),IOL.adv.tools.asHandler("api"),IOL.adv.settings.hasOwnProperty("gdpr")&&(IOL.adv.pubAdsCfg.gdpr=IOL.adv.settings.gdpr),0==IOL.adv.pubAdsCfg.gdpr&&(IOL.adv.settings.tcfv20={enable:!1,tcData:!1,pipeline:{method:"demand",cmpApi:"iab",callback:function(){IOL.adv.tools.logger("run start without cmp",e),IOL.adv.run()}},rewriteConsentCookie:{enable:!1}}),IOL.adv.settings.tcfv20&&(IOL.adv.tools.logger("Override tcfv20",e),IOL.adv.gdpr.tcfv20=IOL.adv.settings.tcfv20),IOL.adv.tools.cmpHandler(e,(function(){"demand"===IOL.adv.gdpr.tcfv20.pipeline.method?(IOL.adv.tools.logger("run in demand mode",e),IOL.adv.gdpr.tcfv20.pipeline.callback&&(IOL.adv.tools.logger("run callback",e),IOL.adv.gdpr.tcfv20.pipeline.callback(),IOL.adv.tools.logger("end function",e))):(IOL.adv.tools.logger("run in standard mode",e),window.__tcfapi("getTCData",2,(function(a,d){d&&(IOL.adv.gdpr.tcfv20.tcData=a,IOL.adv.gdpr.consentString=IOL.adv.gdpr.tcfv20.tcData.tcString||!1,IOL.adv.tools.logger("getTCData success, tcData: "+JSON.stringify(IOL.adv.gdpr.tcfv20.tcData),e),IOL.adv.gdpr.consentString)&&"cmpuishown"!==a.eventStatus&&(IOL.adv.gdpr.tcfv20.rewriteConsentCookie.enable&&(IOL.adv.cookie.set(IOL.adv.gdpr.tcfv20.rewriteConsentCookie.name,IOL.adv.gdpr.consentString,IOL.adv.gdpr.tcfv20.rewriteConsentCookie.duration),IOL.adv.tools.logger("getTCData, set or refresh consent cookie: "+IOL.adv.gdpr.tcfv20.rewriteConsentCookie.name,e)),IOL.adv.tools.logger("getTCData, start advertising pipeline. tcData.eventStatus: "+a.eventStatus,e),IOL.adv.tools.logger("end function",e),IOL.adv.run())})),window.__tcfapi("addEventListener",2,(function(a,d){d?(IOL.adv.tools.logger("addEventListener eventStatus: "+a.eventStatus+" ,success: "+d,e),"tcloaded"!==a.eventStatus&&"useractioncomplete"!==a.eventStatus||"cmpuishown"===a.eventStatus?IOL.adv.tools.logger("addEventListener eventStatus: "+a.eventStatus,e):(IOL.adv.gdpr.tcfv20.tcData=a,IOL.adv.gdpr.consentString=IOL.adv.gdpr.tcfv20.tcData.tcString||!1,IOL.adv.tools.logger("addEventListener tcData: "+JSON.stringify(IOL.adv.gdpr.tcfv20.tcData),e),IOL.adv.gdpr.tcfv20.rewriteConsentCookie.enable&&IOL.adv.gdpr.consentString&&(IOL.adv.cookie.set(IOL.adv.gdpr.tcfv20.rewriteConsentCookie.name,IOL.adv.gdpr.consentString,IOL.adv.gdpr.tcfv20.rewriteConsentCookie.duration),IOL.adv.tools.logger("addEventListener set or refresh consent cookie: "+IOL.adv.gdpr.tcfv20.rewriteConsentCookie.name,e)),IOL.adv.tools.logger("addEventListener, start advertising pipeline (if is not already running)",e),IOL.adv.tools.logger("end function",e),IOL.adv.run(),window.__tcfapi("removeEventListener",2,(function(a){IOL.adv.tools.logger("addEventListener removed success: "+a,e)}),a.listenerId))):(IOL.adv.tools.logger("addEventListener failed, start advertising pipeline anyway",e),IOL.adv.tools.logger("end function",e),IOL.adv.run())})))}),(function(){IOL.adv.tools.logger("end function",e),IOL.adv.run()}),IOL.adv.gdpr.timer,!0)},run:function(){var e,a=IOL.adv.classname+".run";IOL.adv.tools.logger("start function",a),IOL.adv.started?IOL.adv.tools.logger("advertising pipeline is already started",a):(IOL.adv.tools.logger("start advertising pipeline",a),IOL.adv.started=!0,IOL.adv.tools.trkPerf("iamStart",Math.floor(performance.now())),IOL.adv.gdpr.consentGoogle=IOL.adv.tools.getConsent([2,7,9,10],[755]),IOL.adv.tools.logger("consentGoogle is: "+IOL.adv.gdpr.consentGoogle,a),IOL.adv.tools.track({e:"time.start",t:Math.floor(performance.now()),lv:"info"}),IOL.adv.tools.logger("start loading 3rd party library depending on cmp",a),Object.keys(IOL.adv.settings.library).forEach((function(e){IOL.adv.settings.library[e].enable&&IOL.adv.settings.library[e].hasOwnProperty("gdpr")&&(IOL.adv.settings.library[e].enable=!1,"function"==typeof IOL.adv.settings.library[e].gdpr?IOL.adv.settings.library[e].enable=IOL.adv.settings.library[e].gdpr():IOL.adv.settings.library[e].enable=IOL.adv.tools.getConsent(!1,[IOL.adv.settings.library[e].gdpr]),IOL.adv.tools.inject(IOL.adv.settings.library[e]))})),e=[],IOL.adv.gdpr.enable?(e.push("gdprEnable"),IOL.adv.gdpr.tcfv20.tcData?(e.push("tcData.defined"),IOL.adv.gdpr.tcfv20.tcData.hasOwnProperty("purpose")?(e.push("tcData.purpose.defined"),IOL.adv.gdpr.tcfv20.tcData.purpose.hasOwnProperty("consents")?(e.push("tcData.purpose.consents.defined"),IOL.adv.deviceAccess.enable=IOL.adv.tools.getConsent([1],!1),IOL.adv.gdpr.tcfv20.tcData.purpose.consents[1],IOL.adv.profile.enable=IOL.adv.tools.getConsent([1,3,4],!1)&&IOL.adv.pubAdsCfg.profile,IOL.adv.syncId.enable=IOL.adv.tools.getConsent([1,2,3,4,5,6,7,8,9,10]),IOL.adv.syncId.enable&&Object.keys(IOL.adv.syncId.vendor).forEach((function(e){IOL.adv.syncId.vendor[e].enable=IOL.adv.tools.getConsent(!1,[IOL.adv.syncId.vendor[e].id])}))):e.push("tcData.purpose.consents.undefined")):e.push("tcData.purpose.undefined")):e.push("tcData.undefined")):e.push("gdprDisable"),IOL.adv.tools.trkPerf("iamConsentGoogle"+String(IOL.adv.gdpr.consentGoogle).capitalize(),Math.floor(performance.now()),0<e.length&&e),IOL.adv.deferredTimer=setInterval((function(){IOL.adv.deferredLibLoading((function(){IOL.adv.tools.logger("end function",a),IOL.adv.pubAdsCfg.dynamicAds.enable&&IOL.adv.pubAdsCfg.dynamicAds.id.forEach((function(e,a){IOL.adv.manager.createAds(e,a)})),IOL.adv.setProfile(),IOL.adv.manager.init((function(){IOL.adv.manager.run()}))}))}),IOL.adv.deferredInterval),IOL.adv.debug.console.enable&&IOL.adv.tools.showConsole())},setProfile:function(){var e=IOL.adv.classname+".setProfile";IOL.adv.tools.logger("Start function",e),IOL.adv.profile.up.cookie.name=IOL.adv.settings.userProfilingCookieName||IOL.adv.profile.up.cookie.name,IOL.adv.profile.enable?IOL.adv.upHandler():IOL.adv.delProfile("light"),IOL.adv.tools.logger("end function",e)},upHandler:function(){var e=IOL.adv.classname+".upHandler";if(IOL.adv.tools.logger("Start function",e),!0===IOL.adv.settings.disableUpHandler)IOL.adv.tools.logger("upHandler disabled, disableUpHandler: "+IOL.adv.settings.disableUpHandler,e);else{var a={value:{trk:Math.floor(100*Math.random()+1),up:"",ppid:{},ts:"0"}},d=IOL.adv.cookie.get(IOL.adv.profile.up.cookie.name);if(d){try{a.value=JSON.parse(decodeURIComponent(d)),null==a.value.ppid&&(a.value.ppid={}),null==a.value.ext&&(a.value.ext={seat_keyword:!1})}catch(a){IOL.adv.tools.logger("Error parsing cookie "+IOL.adv.profile.up.cookie.name+", err: "+a.message,e)}IOL.adv.profile.up.value=Object.assign({},a.value),IOL.adv.tools.parseUp("cookie")}IOL.adv.profile.up.resource.url=IOL.adv.server+IOL.adv.profile.up.remoteHandler,IOL.adv.tools.logger("Handle the local user profile calling the remote host: "+IOL.adv.profile.up.resource.url,e),IOL.adv.tools.timer("",IOL.adv.profile.up.resource.url,"start"),IOL.adv.tools.remoteCall(IOL.adv.profile.up.resource.url,"d="+IOL.adv.domain+"&a=get&cn="+IOL.adv.profile.up.cookie.name+'&v={"ts":'+a.value.ts+"}",!0,(function(a){try{IOL.adv.tools.logger("response from remote host: "+a,e);var d={cb:""};switch((d=JSON.parse(decodeURIComponent(a))).cb){case"set":IOL.adv.tools.logger("set data",e),IOL.adv.cookie.set(IOL.adv.profile.up.cookie.name,JSON.stringify(d.v),IOL.adv.profile.up.cookie.duration),IOL.adv.tools.logger("User profile has been written or refreshed on this properties with value:"+a,e),d.v.hasOwnProperty("ppid")&&(IOL.adv.profile.up.value.ppid=d.v.ppid),d.v.hasOwnProperty("ext")&&(IOL.adv.profile.up.value.ext=d.v.ext),d.v.hasOwnProperty("up")&&(IOL.adv.profile.up.value.up=d.v.up,IOL.adv.tools.parseUp("api")),IOL.adv.tools.syncId(!0);break;case"del":IOL.adv.tools.logger("delete data",e),IOL.adv.delProfile("light");break;default:IOL.adv.tools.logger("nothing to do",e),IOL.adv.tools.syncId(!1)}IOL.adv.profile.up.duration=IOL.adv.tools.timer("",IOL.adv.profile.up.resource.url,"partial"),IOL.adv.tools.logger("User Profile final object value: "+JSON.stringify(IOL.adv.profile.up.value)+", comingFrom: "+IOL.adv.profile.up.comingFrom,e)}catch(a){IOL.adv.tools.logger("Something goes wrong: "+a.message,e,"error")}})),IOL.adv.tools.logger("end function",e)}},delProfile:function(e){var a=IOL.adv.classname+".delProfile";IOL.adv.tools.logger("Start function",a),IOL.adv.tools.mEnable("amazonId")&&window.apstag&&(IOL.adv.tools.logger("Remove amazonId calling apstag.dpa",a),window.apstag.dpa()),IOL.adv.cookie.get(IOL.adv.profile.up.cookie.name,!0)&&(IOL.adv.profile.up.value={trk:Math.floor(100*Math.random()+1),up:!1,ppid:!1,age:!1,gender:!1,province:!1,ext:{seat_keyword:!1}},IOL.adv.cookie.erase(IOL.adv.profile.up.cookie.name),IOL.adv.tools.logger("remove cookie "+IOL.adv.profile.up.cookie.name+" from domain:"+IOL.adv.domain,a)),"full"==e&&(IOL.adv.tools.logger("Start removing cookie also for www.iolam.it calling handler:"+IOL.adv.server+IOL.adv.profile.up.remoteHandler,a),IOL.adv.tools.remoteCall(IOL.adv.server+IOL.adv.profile.up.remoteHandler,"d="+IOL.adv.domain+"&a=del&cn="+IOL.adv.profile.up.cookie.name,!0),IOL.adv.tools.logger("End removing cookie also for www.iolam.it",a)),IOL.adv.tools.logger("end function",a)},getConsentString:function(){var e=IOL.adv.classname+".getConsentString";return IOL.adv.tools.logger("return consentString: "+IOL.adv.gdpr.consentString,e),IOL.adv.gdpr.consentString},isUserProfileEnable:function(){var e=IOL.adv.classname+".isUserProfileEnable";return IOL.adv.tools.logger("return isUserProfileEnable: "+IOL.adv.profile.enable,e),IOL.adv.profile.enable},getProfile:function(e){var a=IOL.adv.classname+".getProfile",d={};switch(e=e||"all"){case"ppid":d.ppid=IOL.adv.profile.up.value.ppid||!1;break;case"ppid.iol":d=IOL.adv.profile.up.value.ppid&&IOL.adv.profile.up.value.ppid.iol||!1;break;case"ppid.gm":d=IOL.adv.profile.up.value.ppid&&IOL.adv.profile.up.value.ppid.gm||!1;break;case"ppid.rem":d=IOL.adv.profile.up.value.ppid&&IOL.adv.profile.up.value.ppid.rem||!1;break;case"ppid.zeo":d=IOL.adv.profile.up.value.ppid&&IOL.adv.profile.up.value.ppid.zeo||!1;break;case"age":d.age=IOL.adv.profile.up.value.age||"0";break;case"gender":d.gender=IOL.adv.profile.up.value.gender||"0";break;case"province":d.province=IOL.adv.profile.up.value.province||"0";break;case"consentData":var t=IOL.adv.getConsentString();d.consentData=""!==t&&t;break;case"audience":d.audience=!1!==IOL.adv.profile.as.value&&IOL.adv.profile.as.value;break;default:d.age=IOL.adv.profile.up.value.age||"0",d.gender=IOL.adv.profile.up.value.gender||"0",d.province=IOL.adv.profile.up.value.province||"0",t=IOL.adv.getConsentString(),d.consentData=""!==t&&t,d.audience=IOL.adv.profile.as.value||!1}return IOL.adv.tools.logger("w: "+e+", r: "+JSON.stringify(d),a),d},hasConsent:function(){var e=IOL.adv.classname+".hasConsent",a=!1;return IOL.adv.gdpr.enable&&(a=!!IOL.adv.gdpr.consentString),IOL.adv.tools.logger("hasConsent: "+a,e),a},deferredLibLoading:function(e){var a=IOL.adv.classname+".deferredLibLoading",d=!0;IOL.adv.tools.logger("start function",a),IOL.adv.tools.logger("iteration: "+IOL.adv.deferredIteration+", maxIteration: "+IOL.adv.deferredMaxIteration+", interval(ms): "+IOL.adv.deferredInterval,a),IOL.adv.deferredIteration<=IOL.adv.deferredMaxIteration?(Object.keys(IOL.adv.settings.library).forEach((function(e){IOL.adv.tools.logger(e+" :: live: "+IOL.adv.settings.library[e].live+", enable: "+IOL.adv.settings.library[e].enable+(IOL.adv.settings.library[e].enable?"":", library not in use"),a),d=d&&(IOL.adv.settings.library[e].live||!IOL.adv.settings.library[e].enable)})),d?(IOL.adv.tools.logger("status true on iteration "+IOL.adv.deferredIteration,a),clearInterval(IOL.adv.deferredTimer),IOL.adv.tools.logger("end function",a),e()):(IOL.adv.tools.logger("status false on iteration "+IOL.adv.deferredIteration+", retry...",a),IOL.adv.deferredIteration++)):(clearInterval(IOL.adv.deferredTimer),Object.keys(IOL.adv.settings.library).forEach((function(e){IOL.adv.settings.library[e].mandatory&&IOL.adv.settings.library[e].live&&(IOL.adv.tools.logger("iteration finished. The mandatory lib with key "+e+" returning with status: "+IOL.adv.settings.library[e].live,a),d=!0)})),d?(IOL.adv.tools.logger("iteration finished, start with rendering",a),IOL.adv.tools.logger("end function",a),e()):IOL.adv.tools.logger("status false, failed on iteration: "+IOL.adv.deferredIteration+", deferredMaxIteration: "+IOL.adv.deferredMaxIteration,"error"))},refreshSlot:function(e,a,d){var t=IOL.adv.classname+".refreshSlot",i=(d=d||"display",setInterval((function(){IOL.adv.complete?(IOL.adv.tools.logger(d+" :: refreshSlot requested and IOL.adv.complete is true, run refreshSlotRun",t),clearInterval(i),IOL.adv.refreshSlotRun(e,a,d)):IOL.adv.tools.logger(d+" :: refreshSlot requested but IOL.adv.complete is false, please wait...",t)}),50))},refreshSlotRun:function(e,a,d){var t=IOL.adv.classname+".refreshSlotRun";IOL.adv.tools.logger("Start function",t),IOL.adv.complete=!1,"display"==d&&(IOL.adv.mode="refresh"),IOL.adv.pubAdsCfg.deferredDisplay&&(IOL.adv.pubAdsCfg.deferredDisplay=!1),IOL.adv.manager.refreshSlotsContainer={requested:[],valid:[],slots:[],ads:{},headerBidding:{prebidjs:{adUnits:[]}}},e?IOL.adv.manager.refreshSlotsContainer.requested=e.split(",").filter((function(e){if(e)return e})):Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){IOL.adv.manager.refreshSlotsContainer.requested.push(e)})),IOL.adv.manager.refreshSlotsContainer.valid=IOL.adv.manager.refreshSlotsContainer.requested.filter((function(e){var a,i;return IOL.adv.manager.slotsContainer[e]?(i=!0,(a=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e]).refresh?Date.now()-a.refresh.ts>a.refresh.gap?a.refresh.ts=Date.now():(i=!1,IOL.adv.tools.logger("Refresh disable, "+e+" refresh gap is not reached yet",t)):(i=!1,IOL.adv.tools.logger("Refresh disable, "+e+" this ads is not compliant for refresh.",t)),a.mediaType==d&&i):(IOL.adv.tools.logger("Refresh disable, "+e+" is not in slotsContainer.",t),!1)})),"video"==d&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo&&IOL.adv.manager.refreshSlotsContainer.valid.push("advideo"),IOL.adv.tools.logger("Requested slots: "+IOL.adv.manager.refreshSlotsContainer.requested.toString()+". Valid slots to refresh: "+IOL.adv.manager.refreshSlotsContainer.valid.toString(),t),0==IOL.adv.manager.refreshSlotsContainer.valid.length?(IOL.adv.complete=!0,IOL.adv.tools.logger("Refresh disable no ads to refresh.",t)):(IOL.adv.manager.refreshSlotsContainer.valid.forEach((function(e){IOL.adv.manager.slotsContainer[e]&&IOL.adv.manager.refreshSlotsContainer.slots.push(IOL.adv.manager.slotsContainer[e])})),Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];0<=IOL.adv.manager.refreshSlotsContainer.valid.indexOf(e)&&"function"==typeof(IOL.adv.manager.refreshSlotsContainer.ads[e]=a).fnBeforeRefresh&&(IOL.adv.tools.logger(e+" fnBeforeRefresh: run function before refresh.",t),a.fnBeforeRefresh())})),void 0!==IOL.adv.settings.prebidjs&&Object.keys(IOL.adv.manager.refreshSlotsContainer.ads).forEach((function(a){var d=IOL.adv.manager.refreshSlotsContainer.ads[a];IOL.adv.settings.prebidjs.adUnits.filter((function(e){if(e.code==this.code)return IOL.adv.manager.refreshSlotsContainer.headerBidding.prebidjs.adUnits.push(e),!0}),{code:d.divId}),d.mgid&&(IOL.adv.tools.logger(d.divId+": mgid found",t),IOL.adv.tools.displayMgid(d,"asFirst",(function(){return!(IOL.adv.gdpr.consentGoogle||"asFirst"!=d.mgid.mode&&IOL.adv.headerBidding.enable)}),(function(){IOL.adv.tools.logger(e+": disable hb, use mgid for this ads",t),d.bidAmazon=!1,IOL.adv.manager.refreshSlotsContainer.headerBidding.prebidjs.adUnits.pop()}),t)),d.ketai&&(IOL.adv.tools.logger(d.divId+": ketai found",t),IOL.adv.tools.displayKetai(d,"asFirst",(function(){return!(IOL.adv.gdpr.consentGoogle||IOL.adv.pubAdsCfg.deferredDisplay||"asFirst"!=d.ketai.mode&&IOL.adv.headerBidding.enable)}),(function(){IOL.adv.tools.logger(e+": disable hb, use ketai for this ads",t),d.bidAmazon=!1,IOL.adv.manager.refreshSlotsContainer.headerBidding.prebidjs.adUnits.pop()}),t))})),IOL.adv.tools.logger("Start headerBidding.init",t),IOL.adv.headerBidding.init(IOL.adv.manager.refreshSlotsContainer.ads,IOL.adv.manager.refreshSlotsContainer.headerBidding.prebidjs.adUnits,(function(){IOL.adv.headerBidding.run(a)}),(function(){if(!IOL.adv.headerBidding.enable&&0<IOL.adv.manager.refreshSlotsContainer.slots.length){IOL.adv.tools.logger("Refresh slots using standard mode",t),IOL.adv.tools.displayAds({slotContainer:IOL.adv.manager.refreshSlotsContainer.slots});try{"function"==typeof IamCallbackOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackOnComplete. HeaderBidding is disable",t),IamCallbackOnComplete())}catch(e){}}a&&(a(),IOL.adv.tools.logger("Run callback "+a,t))}),d),IOL.adv.tools.logger("End function.",t))},createAds:function(e,a){var d=IOL.adv.classname+".createAds";IOL.adv.mode="createads",IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic?("string"==typeof a?Array(a):a).forEach((function(a){var t,i,o=e+"_"+a;IOL.adv.manager.slotsContainer[o]?(IOL.adv.tools.logger(o+" has been already created, so refresh it",d),IOL.adv.settings.prebidjs.onDemandAdUnits&&IOL.adv.settings.prebidjs.onDemandAdUnits[e]&&(IOL.adv.tools.logger("prebid dynamic code: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divId,d),IOL.adv.settings.prebidjs.onDemandAdUnits[e].code=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divId,IOL.adv.settings.prebidjs.adUnits.push(IOL.adv.settings.prebidjs.onDemandAdUnits[e])),IOL.adv.refreshSlot(o)):(t=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic[e],i=setInterval((function(){var n;IOL.adv.complete?(IOL.adv.tools.logger("advertising pipeline complete: "+IOL.adv.complete,d),clearInterval(i),IOL.adv.complete=!1,n="on-demand-ads",IOL.adv.test.enable&&(n="test_".concat(n)),IOL.adv.pubAdsCfg.slot=n,IOL.adv.tools.logger("Apply new slot: "+IOL.adv.pubAdsCfg.slot,d),IOL.adv.pubAdsCfg.deferredDivId=!1,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot]={},IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot]={ads:{}},IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o]={},IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].mediaType="display",IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divIdReady=!0,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divId=a,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].adUnitPath=t.adUnitPath,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].size=t.size,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].sizeMapping=t.sizeMapping,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].refresh=t.refresh,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].onRenderEnded=t.onRenderEnded,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].bidAmazon=t.bidAmazon,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].optional=t.optional,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].setCollapseEmptyDiv=t.setCollapseEmptyDiv,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].forceSafeFrame=t.forceSafeFrame,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].fnBefore=t.fnBefore,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].fnAfter=t.fnAfter,IOL.adv.tools.logger("Create ads on demand with id: "+o+", divId: "+a,d),IOL.adv.manager.originalSlotsContainer=Object.assign({},IOL.adv.manager.slotsContainer),IOL.adv.manager.slotsContainer=[],IOL.adv.tools.logger("originalSlotsContainer: "+IOL.adv.manager.originalSlotsContainer,d),IOL.adv.settings.prebidjs.adUnits&&(IOL.adv.settings.prebidjs.originalAdUnits=IOL.adv.settings.prebidjs.adUnits,IOL.adv.settings.prebidjs.adUnits=[]),IOL.adv.settings.prebidjs.onDemandAdUnits&&IOL.adv.settings.prebidjs.onDemandAdUnits[e]&&(IOL.adv.tools.logger("prebid dynamic code: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divId,d),IOL.adv.settings.prebidjs.onDemandAdUnits[e].code=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o].divId,IOL.adv.settings.prebidjs.adUnits.push(IOL.adv.settings.prebidjs.onDemandAdUnits[e])),IOL.adv.manager.init((function(){IOL.adv.manager.run()})),googletag.pubads().addEventListener("slotRequested",(function(e){e.slot.getSlotElementId()==a&&(IOL.adv.tools.logger("slotRequested for "+a+" triggered.",d),IOL.adv.tools.logger("Revert slot and prebid config, extend IOL.adv.manager.slotsContainer with on demand slot",d),IOL.adv.pubAdsCfg.slot=IOL.adv.pubAdsCfg.originalSlot,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o]||(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[o]=IOL.adv.settings.slots[n].ads[o]),IOL.adv.settings.prebidjs.originalAdUnits&&(IOL.adv.settings.prebidjs.adUnits=IOL.adv.settings.prebidjs.originalAdUnits),IOL.adv.manager.slotsContainer=IOL.adv.tools.extend(IOL.adv.manager.slotsContainer,IOL.adv.manager.originalSlotsContainer))}))):IOL.adv.tools.logger("advertising pipeline not completed...",d)}),100))})):IOL.adv.tools.logger("dynamic slot is non configured for namespace: "+IOL.adv.settings.ns,d)},displaySlot:function(e,a){var d=IOL.adv.classname+".displaySlot",t={requested:[],slots:[]};IOL.adv.pubAdsCfg.deferredDisplay&&(IOL.adv.pubAdsCfg.deferredDisplay=!1),e?t.requested=e.split(",").filter((function(e){if(e)return e})):Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){t.requested.push(e)})),IOL.adv.tools.logger("Requested slots : "+t.requested.toString(),d),t.requested.forEach((function(e){IOL.adv.manager.slotsContainer[e]?(t.slots.push(IOL.adv.manager.slotsContainer[e]),IOL.adv.tools.logger(e+" is a valid slot",d)):IOL.adv.tools.logger(e+" is not a valid slot",d)})),IOL.adv.headerBidding.enable?IOL.adv.tools.displayAds({slotContainer:t.slots}):IOL.adv.tools.displayAds({slotId:IOL.adv.manager.lastSlotIdReady}),a&&(IOL.adv.tools.logger("Run callback "+a,d),a())},destroySlot:function(e){var a=IOL.adv.classname+".destroySlot";IOL.adv.tools.logger("Start function",a),IOL.adv.tools.logger("destroySlot request: "+e,a),e?e.split(",").forEach((function(e){IOL.adv.manager.slotsContainer[e]?(IOL.adv.tools.logger("start destroySlot for slot: "+e,a),googletag.destroySlots([IOL.adv.manager.slotsContainer[e]]),delete IOL.adv.manager.slotsContainer[e]):IOL.adv.tools.logger("slot "+e+" does not exist",a)})):(IOL.adv.tools.logger("destroySlot for all slots",a),googletag.destroySlots()),IOL.adv.tools.logger("End function",a)},clearSlot:function(e){var a=IOL.adv.classname+".clearSlot";IOL.adv.tools.logger("Start function",a),IOL.adv.tools.logger("clearSlot request: "+e,a),e?e.split(",").forEach((function(e){IOL.adv.manager.slotsContainer[e]?(IOL.adv.tools.logger("start clear for slot: "+e,a),googletag.pubads().clear([IOL.adv.manager.slotsContainer[e]])):IOL.adv.tools.logger("slot "+e+" does not exist",a)})):(IOL.adv.tools.logger("destroySlot for all slots",a),googletag.pubads().clear()),IOL.adv.tools.logger("End function",a)},getAdUnitPath:function(e,a,d){d=IOL.adv.classname+".getAdUnitPath,"+d;var t=!1;a=a?a.toLowerCase():"";try{e&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e]&&(t=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPathOverride&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPathOverride[a]?IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPathOverride[a]:IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPath,""==IOL.adv.pubAdsCfg.section&&(IOL.adv.pubAdsCfg.section="default"),IOL.adv.pubAdsCfg.section&&IOL.adv.settings.sectionMap&&(t=IOL.adv.settings.sectionMap[IOL.adv.pubAdsCfg.section]?t.replace("%SECTION%",IOL.adv.settings.sectionMap[IOL.adv.pubAdsCfg.section]):t.replace("%SECTION%",IOL.adv.settings.sectionMap.default)),void 0===window._ABTestingTrack||/test[A|B|C]$/.test(t)||(t+="/test"+window._ABTestingTrack.toUpperCase()),IOL.adv.test.enable)&&(t=t.replace("%PLACEHOLDER%",IOL.adv.test.value))}catch(e){}return IOL.adv.tools.logger("adUnitPath for ad: "+e+", provider: "+a+" is: "+t,d),t},setAdUnitPath:function(e,a){var d=IOL.adv.classname+".setAdUnitPath";try{e&&a&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e]&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPath=a)}catch(e){return!1}return IOL.adv.tools.logger("adUnitPath for ad: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPath,d),!0},setAdUnitContent:function(e,a){var d=IOL.adv.classname+".setAdUnitContent";IOL.adv.tools.logger("set content for "+e+": "+a,d);try{if(e&&a)return IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e]?(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].content=a,!0):IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].content=!1}catch(e){return!1}},setAdSliderContent:function(e){var a=IOL.adv.classname+".setAdSliderContent";IOL.adv.tools.logger("try to set adslider content: "+JSON.stringify(e),a);try{if(e&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer)return e.adunit=e.adunit.split("/").pop(),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.content.push(e),IOL.adv.tools.logger("adslider content set",a),!0}catch(e){return!1}},setUrl:function(e){var a=IOL.adv.classname+".setUrl";IOL.adv.url=e,IOL.adv.tools.logger("IOL.adv.url: "+IOL.adv.url,a)},setVideoAdsTrueViewThreshold:function(e){var a=IOL.adv.classname+".setVideoAdsTrueViewThreshold";e&&(IOL.adv.videoAds.trueview.threshold=e),IOL.adv.tools.logger("trueview.threshold: "+IOL.adv.videoAds.trueview.threshold,a)},getAdUnitContent:function(e){var a=IOL.adv.classname+".getAdUnitContent",d=!1;try{e&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].content&&(d=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].content)}catch(e){}return IOL.adv.tools.logger("get content for "+e+": "+d,a),d},getVideoAds:function(e,a,d){var t=IOL.adv.classname+".getVideoAds";IOL.adv.tools.trkVideo({evnt:"iam_getvideoads_request",reload:IOL.adv.videoAds.bob.reload,count:IOL.adv.videoAds.reqCounter+1,time:Math.floor(performance.now())}),0!=IOL.adv.videoAds.reqCounter||IOL.adv.gdpr.consentString||!1===IOL.adv.pubAdsCfg.gdpr?(IOL.adv.tools.logger("runGetVideoAds start",t),IOL.adv.runGetVideoAds(e,a,d)):IOL.adv.tools.cmpHandler(t,(function(){window.__tcfapi("addEventListener",2,(function(i,o){o?(IOL.adv.tools.logger("addEventListener eventStatus: "+i.eventStatus+" ,success: "+o,t),"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||"cmpuishown"===i.eventStatus?IOL.adv.tools.logger("addEventListener eventStatus: "+i.eventStatus,t):(IOL.adv.gdpr.tcfv20.tcData=i,IOL.adv.gdpr.consentString=IOL.adv.gdpr.tcfv20.tcData.tcString||!1,IOL.adv.tools.logger("addEventListener tcData: "+JSON.stringify(IOL.adv.gdpr.tcfv20.tcData),t),IOL.adv.tools.logger("addEventListener, runGetVideoAds start",t),IOL.adv.runGetVideoAds(e,a,d),window.__tcfapi("removeEventListener",2,(function(e){IOL.adv.tools.logger("addEventListener removed success: "+e,t)}),i.listenerId))):(IOL.adv.tools.logger("addEventListener failed",t),IOL.adv.tools.logger("addEventListener, runGetVideoAds start anyway",t),IOL.adv.runGetVideoAds(e,a,d))}))}),(function(){IOL.adv.runGetVideoAds(e,a,d)}),IOL.adv.videoAds.timer,!0)},runGetVideoAds:function(provider,callback,options){var classFunc=IOL.adv.classname+".runGetVideoAds",interval=50,id="advideo",provider=provider||"",options=options||!1;if(IOL.adv.videoAds.reqCounter++,!IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo)return IOL.adv.tools.logger("advideo slot is not defined",classFunc),IOL.adv.videoAds.status="error",IOL.adv.tools.trkVideo({evnt:"iam_getvideoads_error",reload:IOL.adv.videoAds.bob.reload,count:IOL.adv.videoAds.reqCounter,time:Math.floor(performance.now())}),callback?(IOL.adv.tools.logger("Requested callback "+callback,classFunc),void callback(IOL.adv.videoAds)):IOL.adv.videoAds;var ad=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo,i;ad.maxRequest&&IOL.adv.videoAds.reqCounter>ad.maxRequest.value&&ad.maxRequest.callback?(IOL.adv.tools.logger("max requests exceeded, run: "+ad.maxRequest.callback,classFunc),ad.maxRequest.callback()):(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo.divIdReady||(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.advideo.divIdReady=!0),1===IOL.adv.videoAds.reqCounter?(IOL.adv.videoAds.mode="standard",IOL.adv.headerBidding.supplyChainSid=IOL.adv.settings.supplyChainSid||IOL.adv.headerBidding.supplyChainSid,IOL.adv.tools.logger("Apply schainSid: "+IOL.adv.headerBidding.supplyChainSid,classFunc),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit&&!IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInitDone&&(IOL.adv.tools.logger("Run fnInit on slot: "+IOL.adv.pubAdsCfg.slot+" using function: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit,classFunc),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInitDone=!0,eval(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit)),ad.fnBefore&&(IOL.adv.tools.logger(id+" run fnBefore",classFunc),eval(ad.fnBefore))):IOL.adv.videoAds.mode="refresh",IOL.adv.videoAds.adUnitPath=IOL.adv.getAdUnitPath("advideo",provider,classFunc),IOL.adv.tools.logger("Requested provider: "+provider+", adUnitPath: "+IOL.adv.videoAds.adUnitPath,classFunc),IOL.adv.refreshSlot(id,!1,"video"),i=setInterval((function(){!IOL.adv.headerBidding.enable||IOL.adv.headerBidding.requestManager.adServerRequestSent?(IOL.adv.tools.logger("HeaderBidding "+(IOL.adv.headerBidding.enable?"done":"disable"),classFunc),clearInterval(i),IOL.adv.complete=!0,IOL.adv.createVideoAds(provider,callback,options,ad),1==IOL.adv.videoAds.reqCounter&&ad.fnAfter&&(IOL.adv.tools.logger(id+" run fnAfter",classFunc),eval(ad.fnAfter)),"function"==typeof IamCallbackVideoAdsOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackVideoAdsOnComplete in getVideoAds",classFunc),IamCallbackVideoAdsOnComplete())):IOL.adv.tools.logger("HeaderBidding is still running...",classFunc)}),interval))},createVideoAds:function(e,a,d,t){var i=IOL.adv.classname+".createVideoAds",o=(IOL.adv.videoAds.id=IOL.adv.tools.randomId(),IOL.adv.videoAds.status="ready",IOL.adv.videoAds.adServerUrl=!1,IOL.adv.videoAds.hb={enable:!1,bidders:[],complete:!1,timedOut:!1},"function"==typeof IOL.adv.settings.overrideProvider&&(overrideProvider=IOL.adv.settings.overrideProvider())&&(overrideProvider,IOL.adv.tools.logger("Provider overrided with: "+overrideProvider,i)),IOL.adv.getProfile());IOL.adv.videoAds.trueview.param=IOL.adv.videoAds.reqCounter<=IOL.adv.videoAds.trueview.threshold?"&trueview=yes":"&trueview=no",d&&t.optionalFunction&&(t.optionalFunction.function?t.optionalFunction.function.f&&(IOL.adv.tools.logger("Run optional function: "+t.optionalFunction.function.f,i),t.optionalFunction.function.f(t,d)):IOL.adv.tools.logger("Optional function not defined",i)),d=!1;IOL.adv.pubAdsCfg.customCriteria&&IOL.adv.pubAdsCfg.customCriteria.adv_bs&&(d=IOL.adv.pubAdsCfg.customCriteria.adv_bs.replace(/\|/g,",")),IOL.adv.videoAds.adServerUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&ciu_szs=&unviewed_position_start=1&gdfp_req=1&impl=s&env=vp&output=vast&iu="+encodeURIComponent(IOL.adv.videoAds.adUnitPath)+"&url=[referrer_url]&correlator=[timestamp]&description_url="+encodeURIComponent(IOL.adv.url)+"&npa="+(IOL.adv.profile.enable?"0":"1")+"&tfcd="+(IOL.adv.profile.up.value.isMinor?"1":"0")+"&cust_params="+(IOL.adv.profile.up.value.isMinor?"":encodeURIComponent("adv_sso1="+o.age+"&adv_sso2="+o.gender))+encodeURIComponent(0<o.audience.s.length&&IOL.adv.profile.enable&&!IOL.adv.profile.up.value.isMinor?"&1plusx="+o.audience.s.join(","):"")+encodeURIComponent(0<o.audience.t.length?"&ctx1plusx="+o.audience.t.join(","):"")+(IOL.adv.videoAds.trueview.param?encodeURIComponent(IOL.adv.videoAds.trueview.param):"")+(IOL.adv.topics?encodeURIComponent("&adv_topics="+IOL.adv.topics.join(",")):"")+(d?encodeURIComponent("&adv_bs="+d):"")+(IOL.adv.referrerLabel?encodeURIComponent("&adv_referrer="+IOL.adv.referrerLabel):"")+(IOL.adv.headerBidding.prebidjs.enable?encodeURIComponent("&pbjs_version="+IOL.adv.headerBidding.prebidjs.version):"")+(IOL.adv.pubAdsCfg.native?encodeURIComponent("&native="+IOL.adv.pubAdsCfg.native):"")+encodeURIComponent("&us_ua="+(IOL.adv.profile.up.value.isMinor?"true":"false"))+encodeURIComponent("&npa="+(IOL.adv.profile.enable?"0":"1"))+IOL.adv.headerBidding.getAmazonVideoBid()+(t.adServerUrlAppendCustomParams?encodeURIComponent(t.adServerUrlAppendCustomParams):"")+(o.consentData?encodeURIComponent("&gdpr=1&gdpr_consent="+o.consentData):"")+(IOL.adv.headerBidding.supplyChainSid?encodeURIComponent("&schainsid="+IOL.adv.headerBidding.supplyChainSid):""),t.adServerUrlAppendParams&&(IOL.adv.videoAds.adServerUrl+=t.adServerUrlAppendParams),IOL.adv.headerBidding.prebidjs.enable&&(d=IOL.adv.settings.prebidjs.adUnits.find(IOL.adv.headerBidding.findAdunitByMediaType,{mediaType:"video"}))&&(IOL.adv.tools.logger("Add pbjs bids on video adServerUrl",i),IOL.adv.videoAds.adServerUrl=pbjs.adServers.dfp.buildVideoUrl({adUnit:d,url:IOL.adv.videoAds.adServerUrl,output:"vast"}),IOL.adv.tools.logger("Final pbjs video url: "+IOL.adv.videoAds.adServerUrl,i)),IOL.adv.videoAds.hb.enable=IOL.adv.headerBidding.enable,IOL.adv.videoAds.hb.bidders=IOL.adv.headerBidding.enable?IOL.adv.headerBidding.bidders:[],IOL.adv.videoAds.hb.complete=IOL.adv.headerBidding.requestManager.adServerRequestSent||!IOL.adv.headerBidding.enable,IOL.adv.videoAds.hb.timedOut=IOL.adv.headerBidding.requestManager.timedOut,IOL.adv.videoAds.status="complete",IOL.adv.tools.logger("Video Ads: "+JSON.stringify(IOL.adv.videoAds),i),IOL.adv.tools.trkVideo({evnt:"iam_getvideoads_response",reload:IOL.adv.videoAds.bob.reload,count:IOL.adv.videoAds.reqCounter,time:Math.floor(performance.now())}),a&&(IOL.adv.tools.logger("Requested callback "+a,i),a(IOL.adv.videoAds))},getVideoAdServerUrl:function(){return IOL.adv.videoAds.adServerUrl}},IOL.adv.tools={classname:"IOL.adv.tools",timerContainer:[],logger:function(e,a,d){if(IOL.adv.debug.log.enable){var t="IAM::"+IOL.adv.version+(IOL.adv.settings.ns?"::"+IOL.adv.settings.ns:"")+"::"+IOL.adv.debug.log.id,i=(d=d||"info",new Date),o=i.getUTCFullYear()+"/"+("0"+(i.getUTCMonth()+1)).slice(-2)+"/"+("0"+i.getUTCDate()).slice(-2)+" "+("0"+i.getUTCHours()).slice(-2)+":"+("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)+"."+this.digPadding(i.getUTCMilliseconds(),3);switch(d){case"error":console.error("%c"+t+"%c :: ERROR :: "+o+" :: "+a+" :: "+e,"display: inline-block; color: #fff; background: red; padding: 1px 4px; border-radius: 3px; font-size: x-small","background-color:white; color: #000; font-size: x-small");break;case"warning":console.warn("%c"+t+"%c :: INFO :: "+o+" :: "+a+" :: "+e,"display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px; font-size: x-small","background-color:#fff; font-size: x-small");break;default:console.info("%c"+t+"%c :: INFO :: "+o+" :: "+a+" :: "+e,"display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px; font-size: x-small","background-color:#fff; font-size: x-small")}}},timer:function(e,a,d){if(IOL.adv.timer)return e=e+"."+a,"start"!=d&&"stop"!=d||(IOL.adv.tools.timerContainer[e+d]=performance.now()),"partial"==d?(a=Math.floor(performance.now()-IOL.adv.tools.timerContainer[e+"start"]),IOL.adv.tools.timerContainer[e+d]=a):"elapsed"==d?Math.floor(performance.now()):void 0},showConsole:function(e){document.getElementById("3eRbq4M8vffvBuyT")&&document.getElementById("3eRbq4M8vffvBuyT").remove(),IOL.adv.tools.loadJs(IOL.adv.server+IOL.adv.debug.console.handler)},loadJs:function(e,a,d,t,i){"string"==typeof t&&(t={id:t});var o=document.head||document.documentElement.childNodes[0],n=document.createElement("script");n.async=!0,n.type="text/javascript","object"==typeof t&&Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),a&&(n.onerror=a),d&&(n.onload=d),a="https:"==document.location.protocol;if(n.src=(a||IOL.adv.pubAdsCfg.forceHttps?"https:":"http:")+e,"function"==typeof i)try{i(n)}catch(n){IOL.adv.tools.logger("error on injectFunction: "+e,"IOL.adv.tools.loadJs","error")}else o.appendChild(n)},documentReady:function(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!=document.readyState&&e()}))},deferredDivIdReady:function(e){var a=IOL.adv.tools.classname+".deferredDivIdReady";IOL.adv.manager.divIdReady=IOL.adv.tools.divIdsReady(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads,IOL.adv.manager.divIdReadyList),IOL.adv.tools.logger("document.readyState:"+document.readyState+", divIdReady:"+IOL.adv.manager.divIdReady+", deferredMaxIteration:"+IOL.adv.manager.deferredMaxIteration+", deferredIteration: "+IOL.adv.manager.deferredIteration+", deferredInterval (ms.):"+IOL.adv.manager.deferredInterval,a),IOL.adv.manager.deferredIteration<=IOL.adv.manager.deferredMaxIteration?IOL.adv.manager.divIdReady||"loading"!==document.readyState?(IOL.adv.tools.logger("deferredDivIdReady status: true, ready ads: ["+IOL.adv.manager.divIdReadyList+"], iteration: "+IOL.adv.manager.deferredIteration,a),clearInterval(IOL.adv.manager.deferredTimer),e()):(IOL.adv.manager.deferredIteration++,IOL.adv.tools.logger("status false, retry:: deferredMaxIteration:"+IOL.adv.manager.deferredMaxIteration+" deferredIteration: "+IOL.adv.manager.deferredIteration,a)):(clearInterval(IOL.adv.manager.deferredTimer),e(),IOL.adv.tools.track({e:"error.divIdNotReady",div:ad.divId,t:Math.floor(performance.now()),lv:"warning"}),IOL.adv.tools.logger("status false, failed:: deferredMaxIteration:"+IOL.adv.manager.deferredMaxIteration+" deferredIteration: "+IOL.adv.manager.deferredIteration,a))},divIdsReady:function(e,a){var d=IOL.adv.tools.classname+".divIdsReady",t=(a=a||[],!0);return Object.keys(e).forEach((function(i){!0===(i=e[i]).optional||void 0===i.divId?IOL.adv.tools.logger("divId:"+i.divId+", Optional: "+i.optional+", Ready: check is disable for optional ads container",d):(i.divIdReady=IOL.adv.tools.divIdReady(i),(t=t&&i.divIdReady)&&!a.includes(i.divId)&&a.push(i.divId),IOL.adv.tools.logger("divId:"+i.divId+", Optional: "+i.optional+", Ready: "+i.divIdReady,d))})),t},divIdReady:function(e,a){var d=IOL.adv.tools.classname+".divIdReady",t=(a=a||!1,!1);return e.divId&&(t="string"==typeof e.divId?a?document.getElementById(e.divId):null!==document.getElementById(e.divId):0<document.querySelectorAll(e.divId.regex).length,IOL.adv.tools.logger("divId:"+e.divId+" ready: "+t,d)),t},divIdSwap:function(e,a,d){var t=IOL.adv.tools.classname+".divIdSwap";e>=a.divIdSwap.minW&&e<a.divIdSwap.maxW?(IOL.adv.tools.logger(d+" :: start swap ads container",t),IOL.adv.settings.prebidjs&&IOL.adv.settings.prebidjs.adUnits&&IOL.adv.settings.prebidjs.adUnits.find(IOL.adv.headerBidding.replaceAdunitByCode,{code:a.divId,newcode:a.divIdSwap.divId}),IOL.adv.tools.logger(d+" :: override "+a.divId+" with "+a.divIdSwap.divId+", minW: "+a.divIdSwap.minW+" and maxW:"+a.divIdSwap.maxW+", page width: "+e,t),a.divIdSwap.divIdOri=a.divId,a.divId=a.divIdSwap.divId,a.divIdSwap.swapped=!0,IOL.adv.tools.logger("Try to set display:none for "+a.divIdSwap.divIdOri,t),document.getElementById(a.divIdSwap.divIdOri)?(document.getElementById(a.divIdSwap.divIdOri).style.display="none",IOL.adv.tools.logger("set display:none for "+a.divIdSwap.divIdOri,t)):IOL.adv.tools.logger(a.divIdSwap.divIdOri+" does not exist or is not ready yet",t),document.getElementById(a.divId)?(document.getElementById(a.divId).style.display="block",IOL.adv.tools.logger("set display:block for "+a.divId,t)):IOL.adv.tools.logger(a.divId+" does not exist or is not ready yet",t)):(IOL.adv.tools.logger(d+" :: swap ads container not required, set display:none on swap container: "+a.divIdSwap.divId+", minW: "+a.divIdSwap.minW+" and maxW:"+a.divIdSwap.maxW+", page width: "+e,t),IOL.adv.tools.logger("Try to set display:none for "+a.divIdSwap.divId,t),document.getElementById(a.divIdSwap.divId)?(document.getElementById(a.divIdSwap.divId).style.display="none",IOL.adv.tools.logger("set display:none for "+a.divIdSwap.divId,t)):IOL.adv.tools.logger(a.divIdSwap.divId+" does not exist or is not ready yet",t),a.divIdSwap.swapped=!1)},validRangeSize:function(e,a,d){var t=IOL.adv.tools.classname+".validRangeSize",i=!1;a.sizeIsCompliant=!1,Object.keys(a.validRangeSize).forEach((function(o){IOL.adv.tools.logger(d+" :: check validRangeSize for "+o,t);var n=a.validRangeSize[o];n&&(IOL.adv.tools.logger(d+" :: validRangeSize requested for "+o+" minW: "+n.minW+", maxW: "+n.maxW+", extraDivIdToHide: "+n.extraDivIdToHide,t),e>=n.minW&&e<=n.maxW?(IOL.adv.tools.logger(d+" :: page width "+e+" is compliant with min: "+n.minW+" and max: "+n.maxW,t),n.isCompliant=!0,n.extraDivIdToHide&&(i=n.extraDivIdToHide)):(IOL.adv.tools.logger(d+" :: page width "+e+" is not compliant with min: "+n.minW+" and max: "+n.maxW,t),n.isCompliant=!1,n.extraDivIdToHide&&(i=n.extraDivIdToHide),n.fallback&&n.fallback())),a.sizeIsCompliant=a.sizeIsCompliant||n.isCompliant})),a.sizeIsCompliant?IOL.adv.tools.logger(d+" :: page width is compliant with validRangeSize",t):(IOL.adv.tools.logger(d+" :: page width is not compliant with validRangeSize, destroy ad",t),document.getElementById(a.divId)&&(document.getElementById(a.divId).style.display="none",IOL.adv.tools.logger(d+" :: set display:none to "+a.divId,t)),i&&(document.getElementById(i)?(IOL.adv.tools.logger(d+" :: set display:none to extraDivIdToHide:"+i,t),document.getElementById(i).style.display="none"):IOL.adv.tools.logger(d+" :: extraDivIdToHide:"+i+" does not exist",t)),IOL.adv.settings.prebidjs&&IOL.adv.settings.prebidjs.adUnits&&(IOL.adv.settings.prebidjs.adUnits=IOL.adv.settings.prebidjs.adUnits.filter(IOL.adv.headerBidding.rmAdunitByCode,{code:a.divId})),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[d].mediaType="disabledFromRangeSize")},mEnable:function(e){var a=!1,d="on"==IOL.adv.tools.getParameterByName(e),t=typeof(a=IOL.adv.settings.modules?IOL.adv.settings.modules[e]||!1:a);return"object"==t?(IOL.adv.settings.modules[e].enable=IOL.adv.settings.modules[e].enable||d,IOL.adv.settings.modules[e].enable&&"function"==typeof IOL.adv.settings.modules[e].f?IOL.adv.settings.modules[e].f():IOL.adv.settings.modules[e].enable):"boolean"==t?a||d:void 0},asHandler:function(e){var a,d,t,i,o,n=IOL.adv.classname+".asHandler";try{IOL.adv.tools.logger("Start function, mode: "+e,n),IOL.adv.settings.dmp&&IOL.adv.settings.dmp["1plusx"]&&(IOL.adv.settings.dmp["1plusx"].tagger.enable&&"tagger"==e&&(IOL.adv.tools.logger("start 1plusx tagger...",n),a=window,d=document,t=IOL.adv.settings.dmp["1plusx"].tagger.url,a.ope=a.ope||function(){(a.ope.q=a.ope.q||[]).push(arguments)},(i=d.createElement("script")).async=1,i.src=t,(o=d.getElementsByTagName("script")[0]).parentNode.insertBefore(i,o),window.ope)&&(window.ope("italiaonline","init","tcf2"),IOL.adv.profile.up.value.ppid&&window.ope("italiaonline","send","1stparty-data",{ppid:IOL.adv.profile.up.value.ppid.iol}),directoryData={},IOL.adv.pubAdsCfg.customCriteria.seat_categoria&&(directoryData.categoria=IOL.adv.pubAdsCfg.customCriteria.seat_categoria),IOL.adv.pubAdsCfg.customCriteria.seat_keyword&&(directoryData.keyword=IOL.adv.pubAdsCfg.customCriteria.seat_keyword),IOL.adv.pubAdsCfg.customCriteria.seat_settore&&(directoryData.settore=IOL.adv.pubAdsCfg.customCriteria.seat_settore),IOL.adv.pubAdsCfg.customCriteria.seat_geo1&&(directoryData.geo1=IOL.adv.pubAdsCfg.customCriteria.seat_geo1),IOL.adv.pubAdsCfg.customCriteria.seat_geo2&&(directoryData.geo2=IOL.adv.pubAdsCfg.customCriteria.seat_geo2),IOL.adv.pubAdsCfg.customCriteria.seat_geo3&&(directoryData.geo3=IOL.adv.pubAdsCfg.customCriteria.seat_geo3),0<Object.keys(directoryData).length)&&window.ope("italiaonline","send","directory-data",directoryData),IOL.adv.settings.dmp["1plusx"].api.enable)&&"api"==e&&(IOL.adv.tools.logger("start 1plusx api...",n),IOL.adv.tools.remoteCall(IOL.adv.settings.dmp["1plusx"].api.url+"?url="+encodeURIComponent(IOL.adv.url)+"&gdpr_applies=0","GET",!0,(function(e){IOL.adv.tools.logger("1plusx api loaded",n),e?(e=JSON.parse(e),IOL.adv.tools.logger("User Profile 1plusx: "+JSON.stringify(e),n),e.s&&(IOL.adv.profile.as.value.s=e.s),e.t&&(IOL.adv.profile.as.value.t=e.t),IOL.adv.profile.as.comingFrom="api",IOL.adv.settings.dmp["1plusx"].api.callback&&(IOL.adv.tools.logger("run callback: "+IOL.adv.settings.dmp["1plusx"].api.callback,n),IOL.adv.settings.dmp["1plusx"].api.callback(IOL.adv.profile.as.value.s))):IOL.adv.tools.logger("1plusx api empty",n)}),2e3)),IOL.adv.tools.logger("end function",n)}catch(e){}},setAdunitPathByBidderCode:function(e,a){var d=IOL.adv.tools.classname+".setAdunitPathByBidderCode",t=!1;IOL.adv.tools.logger("Start setAdunitPathByBidderCode on "+e.divId+" for bidder: "+a,d),IOL.adv.settings.prebidjs&&0<(t=IOL.adv.settings.prebidjs.adUnits.filter(IOL.adv.headerBidding.getAdunitByCode,{code:e.divId})).length?(t.find(IOL.adv.headerBidding.setAdunitPathByBidderCode,{bidder:a,adUnitPath:e.adUnitPath}),IOL.adv.tools.logger("adUnit value after setAdunitPathByBidderCode : "+JSON.stringify(t),d)):IOL.adv.tools.logger("No setAdunitPathByBidderCode is required for "+e.divId,d)},displayAds:function(e){var a=IOL.adv.tools.classname+".displayAds";if(IOL.adv.complete=!0,IOL.adv.tools.logger("start function",a),IOL.adv.pubAdsCfg.deferredDisplay)IOL.adv.tools.logger("deferredDisplay is enable, nothing to do",a),IOL.adv.tools.logger("IAM complete",a);else{var d,t,i=void 0!==e&&void 0!==e.slotContainer&&e.slotContainer,o=void 0!==e&&void 0!==e.slotId&&e.slotId,n=void 0!==e&&void 0!==e.mode?e.mode:"standard",s=void 0===e||void 0===e.changeCorrelator||e.changeCorrelator,r=(IOL.adv.tools.logger("display engine:"+JSON.stringify(IOL.adv.displayEngine)+", slotContainer:"+JSON.stringify(i)+", mode:"+n+", changeCorrelator:"+s,a),IOL.adv.tools.trkPerf("iamRenderingStart",Math.floor(performance.now())),[]);if(o?r.push(IOL.adv.manager.slotsContainer[o]):i?e.slotContainer.forEach((function(e){r.push(e)})):Object.keys(IOL.adv.manager.slotsContainer).forEach((function(e){r.push(IOL.adv.manager.slotsContainer[e])})),IOL.adv.displayEngine.prebid&&(IOL.adv.tools.logger("display prebid",a),r=Object.keys(r).map((function(e){return r[e].getSlotElementId()})),0===pbjs.getHighestCpmBids().length?(IOL.adv.tools.logger("displayFallback: no bid yet, start waiting for bids",a),d=0,t=setInterval((function(){(0<pbjs.getHighestCpmBids().length||40==d)&&(IOL.adv.tools.logger("displayFallback with bids length: "+pbjs.getHighestCpmBids().length+", iteration: "+d,a),IOL.adv.tools.displayPrebid(r),clearInterval(t)),d++}),50)):IOL.adv.tools.displayPrebid(r)),IOL.adv.displayEngine.gpt){IOL.adv.tools.logger("display gpt",a),IOL.adv.profile.enable&&(n=IOL.adv.getProfile("ppid.iol"))&&(googletag.pubads().setPublisherProvidedId(n),IOL.adv.tools.logger("setPublisherProvidedId: "+n,a)),googletag.pubads().setPrivacySettings({nonPersonalizedAds:!IOL.adv.profile.enable,childDirectedTreatment:IOL.adv.profile.up.value.isMinor}),IOL.adv.tools.logger("Run setCustomCriteria",a),IOL.adv.manager.setCustomCriteria(),r.forEach((function(e,a,d){IOL.adv.tools.displayPrebidOnDemand(e.getSlotElementId())&&d.splice(a,1)})),googletag.pubads().refresh(r,{changeCorrelator:s});try{"function"==typeof IamCallbackDfpCall&&(IOL.adv.tools.logger("Hook IamCallbackDfpCall",a),IamCallbackDfpCall())}catch(e){}}IOL.adv.tools.logger("IAM complete",a),IOL.adv.tools.logger("end function",a)}},displayPrebid:function(e){var a=IOL.adv.tools.classname+".displayPrebid";e.forEach((function(e){IOL.adv.tools.logger("start for "+e,a);var d=pbjs.getHighestCpmBids(e)[0];if(d){if(IOL.adv.tools.trkPerf("iamRenderingEnd",Math.floor(performance.now()),!0),IOL.adv.tools.track({e:"time.rendering",key:"time.rendering.prebid."+(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),t:Math.floor(performance.now()),lv:"info"}),"video"===d.mediaType)pbjs.adUnits.forEach((function(e){e.code===d.adUnitCode&&e.mediaTypes.video.hasOwnProperty("context")&&"outstream"==e.mediaTypes.video.context&&(IOL.adv.tools.logger("Rendering divid: "+d.adUnitCode+", bid.adId: "+d.adId+", bid.mediaType "+d.mediaType+", bid.adUnitCode "+d.adUnitCode+" from: "+d.bidder,a),pbjs.renderAd(document,d.adId))}));else if("banner"===d.mediaType){IOL.adv.tools.logger("slot: "+e+", divid: "+d.adUnitCode,a);try{var t,i="pbjs_"+d.adUnitCode,o=document.getElementById(d.adUnitCode),n=(o.replaceChildren(),document.createElement("iframe")),s=(n.setAttribute("id",i),n.setAttribute("scrolling","no"),n.setAttribute("style","border: 0px;"),n.setAttribute("marginWidth","0"),n.setAttribute("marginheigth","0"),n.setAttribute("width","0"),n.setAttribute("height","0"),o.appendChild(n),"none"==document.getElementById(d.adUnitCode).style.display&&(document.getElementById(d.adUnitCode).style.display="block"),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].forceSafeFrame?(IOL.adv.tools.logger("Rendering - in safeFrame - adId: "+d.adId+", adUnitCode: "+d.adUnitCode+", bidder: "+d.bidder,a),n.setAttribute("src","https://i3.plug.it/banners/directrender/prebid.html?o="+IOL.adv.origin+"&adID="+d.adId)):(IOL.adv.tools.logger("Rendering adId: "+d.adId+", adUnitCode: "+d.adUnitCode+", bidder: "+d.bidder,a),t=document.getElementById(i).contentWindow.document,pbjs.renderAd(t,d.adId),t.body.style.marginTop="0px",t.body.style.marginBottom="0px"),new CustomEvent("pbjsRenderEnded",{detail:{adUnitCode:e,mediaType:d.mediaType,height:d.height,width:d.width}}));document.dispatchEvent(s)}catch(e){}}IOL.adv.tools.logger("displayAds "+JSON.stringify(pbjs.getAllWinningBids()),a)}else{IOL.adv.tools.logger("no bid for: "+e,a);var r=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[IOL.adv.manager.divIdAdsIdMap[e]||e];s=(r?r.mgid&&(IOL.adv.tools.logger(r.divId+": mgid found",a),IOL.adv.tools.displayMgid(r,"asPrebidFallback",(function(){return"asPrebidFallback"==r.mgid.mode}),!1,a)):IOL.adv.tools.logger("ad not found for: "+e,a),new CustomEvent("pbjsNoBid",{detail:{adUnitCode:e,mediaType:!1,height:!1,width:!1}}));document.dispatchEvent(s)}}))},displayPrebidOnDemand:function(e,a){var d=IOL.adv.tools.classname+".displayPrebidOnDemand";try{var t,i,o=!1,n=(a=a||"directRendering",IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[IOL.adv.manager.divIdAdsIdMap[e]||e]);return n&&IOL.adv.headerBidding.prebidjs.enable&&n.hasOwnProperty("prebidOnDemand")&&n.prebidOnDemand.hasOwnProperty(a)?(t=n.prebidOnDemand[a].hasOwnProperty("cpm")?n.prebidOnDemand[a].cpm:"directRendering"===a?1.88:0,pbjs.getHighestCpmBids(n.divId)[0]&&(o=t<=(i=pbjs.getHighestCpmBids(n.divId)[0].cpm)||o),IOL.adv.tools.logger(e+" : condition for "+a+": "+o+", cpm: "+i+", threshold: "+t,d),o&&(IOL.adv.tools.logger(e+" : call displayPrebid for "+a+", cpmBid: "+i,d),IOL.adv.tools.displayPrebid([IOL.adv.manager.divIdAdsIdMap[e]||e]),n.prebidOnDemand[a].called=!0,n.prebidOnDemand[a].cpmBid=i),o):(IOL.adv.tools.logger(e+" : condition for "+a+": "+o,d),!1)}catch(t){return IOL.adv.tools.logger(e+" mode: "+a,d,"error"),!1}},displayMgid:function(e,a,d,t,i){i=IOL.adv.tools.classname+".displayMgid,"+i,d()?e.mgid.script&&e.mgid.divId||e.mgid.iframeSrc&&e.mgid.width&&e.mgid.height?(d=document.getElementById(e.divId))?(IOL.adv.tools.logger(e.divId+" : mode "+a+", mgid is compliant with this mode, ads config: "+JSON.stringify(e.mgid),i),t&&t(),d.replaceChildren(),e.mgid.iframeSrc&&e.mgid.width&&e.mgid.height&&((t=document.createElement("iframe")).setAttribute("src",e.mgid.iframeSrc),t.setAttribute("width",e.mgid.width),t.setAttribute("height",e.mgid.height),t.setAttribute("scrolling","no"),t.setAttribute("style","border: 0px;"),t.setAttribute("marginWidth","0"),t.setAttribute("marginheigth","0"),d.appendChild(t),d.display="block"),e.mgid.divId&&e.mgid.script&&((d=document.createElement("div")).id=e.mgid.divId,(t=document.createElement("script")).type="text/javascript",t.src=e.mgid.script,d.appendChild(t),t=e.mgid.onDivId||e.divId,document.getElementById(t))&&document.getElementById(t).appendChild(d),e.onRenderEnded.push({forceOnSlotRenderEnded:!0,allowedSizes:["empty"],callback:function(a){document.getElementById(e.divId).style.display="block"}}),"function"==typeof e.mgid.onRenderEnded&&(IOL.adv.tools.logger("run onRenderEnded for mgid on: "+e.divId,i),e.mgid.onRenderEnded()),IOL.adv.complete=!0,IOL.adv.displayEngine.mgid=!0,IOL.adv.tools.track({e:"time.rendering",key:"time.rendering.mgid."+(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),t:Math.floor(performance.now()),lv:"info"})):IOL.adv.tools.logger(e.divId+" not found in page",i):IOL.adv.tools.logger("one or more attributes are not defined"+e.divId,i):IOL.adv.tools.logger(e.divId+" : mode "+a+", mgid is not compliant with this mode, ads config: "+JSON.stringify(e.mgid),i)},displayKetai:function(e,a,d,t,i){i=IOL.adv.tools.classname+".displayKetai,"+i,d()?e.ketai?(d=document.getElementById(e.divId))?(IOL.adv.tools.logger(e.divId+" : mode "+a+", ketai is compliant with this mode, ads config: "+JSON.stringify(e.ketai),i),t&&t(),d.replaceChildren(),e.ketai.html&&e.ketai.script&&(IOL.adv.tools.logger(e.divId+" : inject ketai html",i),d.innerHTML=e.ketai.html,(t=document.createElement("script")).innerHTML=e.ketai.script,d.appendChild(t)),e.onRenderEnded.push({forceOnSlotRenderEnded:!0,allowedSizes:["empty"],callback:function(a){document.getElementById(e.divId).style.display="block"}}),"function"==typeof e.ketai.onRenderEnded&&(IOL.adv.tools.logger("run onRenderEnded for ketai on: "+e.divId,i),e.ketai.onRenderEnded()),IOL.adv.complete=!0,IOL.adv.displayEngine.ketai=!0,IOL.adv.tools.track({e:"time.rendering",key:"time.rendering.ketai."+(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),t:Math.floor(performance.now()),lv:"info"})):IOL.adv.tools.logger(e.divId+" not found in page",i):IOL.adv.tools.logger("one or more attributes are not defined"+e.divId,i):IOL.adv.tools.logger(e.divId+" : mode "+a+", ketai is not compliant with this mode, ads config: "+JSON.stringify(e.mgid),i)},remoteCall:function(e,a,d,t,i){var o=IOL.adv.tools.classname+".remoteCall",n=(i=i||2e4,"GET"==a?"GET":"POST");a="GET"==n?"":a;IOL.adv.tools.logger("remoteCall url:"+e+", method: "+n,o);try{var s=new XMLHttpRequest;t&&(s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&200===s.status&&t(s.responseText)}),e=("https:"==document.location.protocol||IOL.adv.pubAdsCfg.forceHttps?"https:":"http:")+e,s.open(n,e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),"GET"==n&&s.setRequestHeader("Referrer-Policy","no-referrer-when-downgrade"),s.datatype="json",d&&(s.withCredentials=d),s.onprogress=function(){},s.timeout=i,s.send(a)}catch(e){IOL.adv.tools.logger("err remoteCall e: "+e.message,o)}},getDomain:function(e){return 2<(e=e.split(".")).length&&e.shift(),"."+e.join(".")},getParameterByName:function(e){return(e=new RegExp("[?&]"+e.replace(/\[/g,"\\[").replace(/\]/g,"\\]")+"(?:=([^&#]*))?(?:[&#]|$)").exec(window.location.search))?e[1]?decodeURIComponent(e[1].replace(/\+/g," ")):"":null},extend:function(e,a){for(var d in a)a.hasOwnProperty(d)&&(e[d]=a[d]);return e},digPadding:function(e,a){return Array(Math.max(a-String(e).length+1,0)).join(0)+e},objAssigner:function(e,a){Object.keys(a).forEach((function(d){e[d]=a[d]}))},getMetaTag:function(e,a){var d=[];try{if(null!=(t=document.getElementsByTagName("meta")[e])&&null!=(t=t.getAttribute("content")))if(a)for(var t=t.split(a).filter((function(e){if(e)return!0})),i=0;i<t.length;i++)""!=t[i].replace(/\s/g,"")&&(d[i]=t[i].trim());else d=t}catch(e){}finally{return null!=d&&d}},getReferrerLabel:function(e,a){var d=IOL.adv.tools.classname+".getReferrerLabel",t=a,i={site:[".*"+IOL.adv.domain.replace(/\./g,"\\.")+"$"],search:[/arianna\.libero\.it$/,/ricerca.*\.virgilio\.it$/,/.*\.google\.[a-z]{2,3}$/,/.*\.bing\.com$/,/.*\.ask\.[a-z]{2,3}$/,/.*\.hotbot\.[a-z]{2,3}$/,/.*\.dogpile\.[a-z]{2,3}$/,/.*\.lycos\.[a-z]{2,3}$/,/.*\.yandex\.[a-z]{2,3}$/,/.*\.exalead\.[a-z]{2,3}$/,/.*\.gigablast\.[a-z]{2,3}$/,/.*\.yahoo\.[a-z]{2,3}$/,/.*\.sogou\.[a-z]{2,3}$/,/.*\.search\.[a-z]{2,3}$/,/.*\.duckduckgo\.[a-z]{2,3}$/,/.*\.istella\.[a-z]{2,3}$/,/.*\.qwant\.[a-z]{2,3}$/,/.*\.searx\.[a-z]{2,3}$/,/.*\.qwant\.[a-z]{2,3}$/],linked:[/.*\.italiaonline\.it$/,/.*\.virgilio\.it$/,/.*\.libero\.it$/,/.*\.buonissimo\.it$/,/.*\.dilei\.it$/,/.*\.quifinanza\.it$/,/.*\.siviaggia\.it$/,/.*\.supereva\.it$/,/.*\.myblog\.it$/,/.*\.xoom\.it$/,/.*\.initalia\.it$/,/.*\.paginebianche\.it$/,/.*\.paginegialle\.it$/,/.*\.tuttocitta\.it$/,/.*\.seat\.it$/]};IOL.adv.tools.logger("page domain: "+IOL.adv.domain+", referrer: "+e,d);try{var o=(o=new URL(e).hostname.toLowerCase()).startsWith(".")?o:"."+o;IOL.adv.tools.logger("Referrer domain: "+o,d),Object.keys(i).forEach((function(e){for(var n=0;n<i[e].length&&t==a;n++)IOL.adv.tools.logger("Apply regEx: "+i[e][n]+" on domain: "+o+" for case: "+e,d),o.match(i[e][n])&&(t=e,IOL.adv.tools.logger("Match found, assign label: "+t,d))}))}catch(e){IOL.adv.tools.logger("Referrer url is empty, return the default value: "+t,d)}finally{return t}},find:function(e,a){var d=IOL.adv.tools.classname+".setOptionalCustomParams",t="";return IOL.adv.tools.logger("needle:"+e+" haystack:"+JSON.stringify(a),d),e&&a&&(IOL.adv.tools.logger("try to find needle in haystack",d),t=a[e]||""),IOL.adv.tools.logger("found: "+t,d),t},filterArrayInArray:function(e){var a=IOL.adv.tools.classname+".filterArrayInArray",d=!0;return this.list.forEach((function(t){IOL.adv.tools.logger("prop:"+t+" typeof v:"+typeof e+" value: "+e,a),"object"==typeof e?e.join("x")==t.join("x")&&(IOL.adv.tools.logger("Bad size found",a),d=!1):(IOL.adv.tools.logger("Bad size found or not managed",a),d=!1)})),d},randomId:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},randomInt:function(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1)+e)},inject:function(l){var classFunc=IOL.adv.tools.classname+".inject";l.enable&&l.condition&&(IOL.adv.tools.logger("typeof condition: "+typeof l.condition,classFunc),"string"==typeof l.condition&&(l.enable=eval(l.condition)),"function"==typeof l.condition)&&(l.enable=l.condition()),IOL.adv.tools.logger((l.enable?"loading":"discard")+" url: "+l.url+", enable: "+l.enable+", mandatory: "+l.mandatory+", condition: "+l.condition,classFunc),l.enable&&""!==l.url&&("function"==typeof l.url&&(l.url=l.url()),IOL.adv.tools.timer(classFunc,l.url,"start"),IOL.adv.tools.loadJs(l.url,(function(){l.live=!0,l.status="error",l.duration=IOL.adv.tools.timer(classFunc,l.url,"partial"),IOL.adv.debug.tracking.adblock=!0,IOL.adv.tools.trkPerf("iamAdblock",Math.floor(performance.now())),IOL.adv.tools.track({e:"error.adblock",t:Math.floor(performance.now()),lv:"error"}),l.onError&&l.onError()}),(function(){l.live=!0,l.status="loaded",l.duration=IOL.adv.tools.timer(classFunc,l.url,"partial"),IOL.adv.tools.logger("Time elapsed for loading "+l.url+" is "+l.duration,classFunc),l.onLoad&&l.onLoad()}),l.id||!1,l.injectFunction||!1))},cmpHandler:function(e,a,d,t,i){var o,n=IOL.adv.tools.classname+".cmpHandler,"+e;t=t||!1,i=i||!0;IOL.adv.gdpr.tcfv20.enable&&(IOL.adv.gdpr.enable=!0),IOL.adv.gdpr.enable||IOL.adv.settings.hasOwnProperty("tcfv20")&&"demand"==IOL.adv.settings.tcfv20.pipeline.method?(IOL.adv.tools.logger("cmp is ready or pipeline method is on demand, run callback function",n),a()):i?(IOL.adv.tools.logger("cmp is not ready yet, try with setInterval",n),o=0,t=setInterval((function(){IOL.adv.gdpr.enable="function"==typeof __tcfapi,IOL.adv.gdpr.enable?(clearInterval(t),IOL.adv.tools.logger("cmp is ready",n),a()):o>IOL.adv.gdpr.maxIteration?(IOL.adv.gdpr.timedOut=!0,clearInterval(t),IOL.adv.tools.logger("cmp is not ready, run fallback or callback function",n),(d||a)()):(o++,IOL.adv.tools.logger("cmp is not ready yet, please wait...",n))}),IOL.adv.gdpr.interval)):a()},getConsent:function(e,a){var d,t=IOL.adv.tools.classname+".getConsent",i={purpose:e?Array.isArray(e)?e:Array(e):[],vendor:a?Array.isArray(a)?a:Array(a):[]},o=!0;for(d in IOL.adv.gdpr.enable||(o=!1),IOL.adv.gdpr.tcfv20.tcData||(o=!1),i)for(var n=0;n<i[d].length;n++){if(!IOL.adv.gdpr.tcfv20.tcData.hasOwnProperty(d)||!IOL.adv.gdpr.tcfv20.tcData[d].hasOwnProperty("consents")){o=!1;break}var s=i[d][n];if(!IOL.adv.gdpr.tcfv20.tcData[d].consents[s]){o=!1;break}}return IOL.adv.tools.logger("Consent for: "+JSON.stringify(i)+" is "+o,t),o},track:function(e){var a,d,t,i=IOL.adv.tools.classname+".track";try{IOL.adv.tools.logger("track event: "+JSON.stringify(e),i),!IOL.adv.debug.tracking.enable||IOL.adv.debug.tracking.evnt[e.e]?IOL.adv.tools.logger("Track elk disable or already done for "+e.e,i):((a=[]).push(IOL.adv.gdpr.enable?"gdprOn":IOL.adv.gdpr.timedOut?"gdprFail":"gdprOff"),a.push(IOL.adv.gdpr.consentGoogle?"consentOn":"consentOff"),a.push(IOL.adv.debug.tracking.adblock?"adBlockOn":"adBlockOff"),a.push(IOL.adv.profile.up.value.up?"upOn":"upOff"),a.push(IOL.adv.headerBidding.enable?"hbOn":"hbOff"),a.push(IOL.adv.complete||e.e.startsWith("time.rendering")?"complete":"uncomplete"),d=e.div||"",t=IOL.adv.version+"::"+a.join(".")+"::"+IOL.adv.settings.ns+"::"+IOL.adv.pubAdsCfg.slot+"::"+d+"::"+(e.key||e.e)+"::"+e.t,IOL.adv.debug.tracking.evnt[e.e]={v:t,lv:e.lv},IOL.adv.tools.logger("dump for tracking event: "+e.e+", lv:"+IOL.adv.debug.tracking.evnt[e.e].lv+", v:"+IOL.adv.debug.tracking.evnt[e.e].v,i,e.lv),IOL.adv.tools.remoteCall(IOL.adv.server+IOL.adv.debug.tracking.handler,"rf="+IOL.adv.url+"&d="+IOL.adv.domain+"&lv="+IOL.adv.debug.tracking.evnt[e.e].lv+"&msg="+IOL.adv.debug.tracking.evnt[e.e].v))}catch(e){IOL.adv.tools.logger("track exception: "+e,i,"error")}},trkPerf:function(e,a,d){var t,i,o,n=IOL.adv.tools.classname+".trkPerf";try{if(!IOL.adv.tools.mEnable("trkPerf")||IOL.adv.debug.tracking.time[e])IOL.adv.tools.logger("Track druid disable or already done for "+e,n);else{IOL.adv.debug.tracking.time[e]=a;try{t=Date.now()}catch(e){t=0}try{i=screen.width}catch(e){i=0}try{o=window.location.hostname}catch(e){o="error"}var s=[],r=("boolean"==typeof d&&d&&(s.push(IOL.adv.gdpr.consentGoogle?"consentGoogleTrue":"consentGoogleFalse"),s.push(IOL.adv.gdpr.enable?"gdprEnable":"gdprDisable"),s.push(IOL.adv.displayEngine.gpt?"displayGpt":"displayFallback"),s.push(IOL.adv.debug.tracking.adblock?"adblockTrue":"adblockFalse"),s.push(IOL.adv.headerBidding.prebidjs.enable?"hbTrue":"hbFalse"),s.push(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),s.push(IOL.adv.profile.up.value.up?"ssoTrue":"ssoFalse")),"object"==typeof d&&Array.isArray(d)&&(s=d),"https://evnt.iol.it/v2?&pgnf="+o+",all,,,,0,"+i+",0,,b,0,iam"+IOL.adv.version+";"+IOL.adv.settings.ns+(0<s.length?";"+s.join(";")+(1<s.length?";"+s.join("_"):""):"")+","+e+","+a+"&nc="+t);(new Image).src=r,IOL.adv.tools.logger("track: "+e+", url: "+r,n)}}catch(e){IOL.adv.tools.logger("track exception: "+e,n,"error")}},trkIdentity:function(e){var a=IOL.adv.tools.classname+".trkIdentity";try{var d=window.location.hostname,t=Date.now(),i="https://evnt.iol.it/v3?&pgnf="+d+","+e.partner+","+e.ppid+",,identity_id,,0,,,0,,,0,,,0,0,0&nc="+t;(new Image).src=i,IOL.adv.tools.logger("track: "+e.partner,a)}catch(e){IOL.adv.tools.logger("track exception: "+e,a,"error")}},trkVideo:function(e){var a,d,t,i=IOL.adv.tools.classname+".trkVideo";try{IOL.adv.tools.mEnable("trkVideo")?(window.location.hostname,a=Date.now(),d=["rel_"+e.reload,"req_"+e.count,"rel_"+e.reload+"_req_"+e.count].join(";"),t="https://evnt.iol.it/v2?&pgnf="+IOL.adv.videoAds.bob.mailVersion+",,"+IOL.adv.videoAds.bob.from+",,,30,640,0,,,0,"+d+","+e.evnt+","+e.time+"&nc="+a,(new Image).src=t,IOL.adv.tools.logger("track: "+e.evnt+", url: "+t,i)):IOL.adv.tools.logger("Track druid disable or already done for "+e.evnt,i)}catch(e){IOL.adv.tools.logger("track exception: "+e,i,"error")}},delElementById:function(e){var a=IOL.adv.tools.classname+".delElementById",d=Array.isArray(e)?e:Array(e);try{d.forEach((function(e){var d=document.getElementById(e);null!==d?(IOL.adv.tools.logger(e+" found, run d.parentNode.removeChild()",a),d.parentNode.removeChild(d)):IOL.adv.tools.logger(e+" not found",a)}))}catch(e){IOL.adv.tools.logger("del id exception: "+e,a,"error")}},debugInit:function(){var e=IOL.adv.tools.classname+".debugInit";if(IOL.adv.debug.log.enable=!!IOL.adv.cookie.get("iamdbg",!0),IOL.adv.tools.getParameterByName("iam_console"))try{var a=JSON.parse(IOL.adv.tools.getParameterByName("iam_console"));IOL.adv.tools.objAssigner(IOL.adv.pubAdsCfg,a),IOL.adv.debug.log.enable=IOL.adv.pubAdsCfg.log||IOL.adv.debug.log.enable,IOL.adv.debug.console.enable=IOL.adv.pubAdsCfg.console||IOL.adv.debug.console.enable,IOL.adv.debug.tracking.enable=IOL.adv.pubAdsCfg.tracking||IOL.adv.debug.tracking.enable}catch(a){IOL.adv.tools.logger('Error parsing debug parameter, please use the following specs: {"log":true,"console":true,"lazy":true,"prebid":false}',e,"error")}IOL.adv.debug.log.enable&&(IOL.adv.debug.log.id=IOL.adv.tools.randomId()),IOL.adv.debug.tracking.percentCustomerBase=IOL.adv.settings.percentCustomerBase||IOL.adv.debug.tracking.percentCustomerBase,IOL.adv.debug.tracking.randomInt=IOL.adv.tools.randomInt(1,100),(IOL.adv.debug.tracking.randomInt<=IOL.adv.debug.tracking.percentCustomerBase||IOL.adv.debug.tracking.enable)&&(IOL.adv.debug.tracking.enable=void 0!==window.performance&&void 0!==window.performance.now),IOL.adv.tools.logger("log enable: "+IOL.adv.debug.log.enable+", track enable: "+IOL.adv.debug.tracking.enable,e)},reloadPageInDebugMode:function(){var e=-1!==(e=location.href).indexOf("?")?e+'&iam_console={"log":true}':e+'?iam_console={"log":true}';window.location.href=e},reloadPageWithConsole:function(){var e=-1!==(e=location.href).indexOf("?")?e+'&iam_console={"console":true}':e+'?iam_console={"console":true}';window.location.href=e},onRenderEnded:function(e,a){var d=IOL.adv.tools.classname+".onRenderEnded";document.addEventListener("pbjsRenderEnded",(function(d){(d=IOL.adv.tools.getSlotAttribute(e,d))&&(e.onRenderEnded.slotAttribute=d||e.onRenderEnded.slotAttribute,IOL.adv.tools.startEvent(e,a,e.onRenderEnded.slotAttribute))})),googletag.pubads().addEventListener("slotRenderEnded",(function(t){t.slot.getSlotElementId()!==e.divId||e.onRenderEnded.slotAttribute||(e.onRenderEnded.slotAttribute=IOL.adv.tools.getSlotAttribute(e,t),IOL.adv.tools.logger("slotRenderEnded: slotAttribute for "+e.divId+" attribute: "+JSON.stringify(e.onRenderEnded.slotAttribute),d)),t.slot.getSlotElementId()===e.divId&&e.onRenderEnded.slotAttribute&&1==a.forceOnSlotRenderEnded&&(IOL.adv.tools.logger("slotRenderEnded: slotAttribute is ready, value:"+JSON.stringify(e.onRenderEnded.slotAttribute)+", run startEvent",d),IOL.adv.tools.startEvent(e,a,e.onRenderEnded.slotAttribute))})),googletag.pubads().addEventListener("slotOnload",(function(t){var i,o;t.slot.getSlotElementId()===e.divId&&(IOL.adv.tools.logger("startEvent from slotOnload: "+e.divId,d),i=0,e.onRenderEnded.slotAttribute?IOL.adv.tools.startEvent(e,a,e.onRenderEnded.slotAttribute):o=setInterval((function(){IOL.adv.tools.logger("slotOnload: slotAttribute for "+e.divId+" is undefined on iteration: "+i,d),!e.onRenderEnded.slotAttribute&&20!=i||(e.onRenderEnded.slotAttribute&&(IOL.adv.tools.logger("slotOnload: slotAttribute is ready on iteration: "+i+", value:"+JSON.stringify(e.onRenderEnded.slotAttribute)+", run startEvent",d),IOL.adv.tools.startEvent(e,a,e.onRenderEnded.slotAttribute)),clearInterval(o)),i++}),50))}))},getSlotAttribute:function(e,a){IOL.adv.tools.classname;var d=!(!a.detail||"pbjsRenderEnded"!==a.type)&&a.detail,t=d?d.adUnitCode:a.slot.getSlotElementId(),i=d?d.width:!(a.isEmpty||!a.size)&&a.size[0],o=d?d.height:!(a.isEmpty||!a.size)&&a.size[1];a=!d&&!!a.hasOwnProperty("advertiserId")&&a.advertiserId;return t===e.divId&&{slotId:t,displayFallback:!!d,w:i,h:o,advertiserId:a||!1}},startEvent:function(e,a,d){var t=IOL.adv.tools.classname+".startEvent",i="function"!=typeof a.condition||a.condition();if(e.onRenderEnded.runned=e.onRenderEnded.hasOwnProperty("runned")?e.onRenderEnded.runned+1:1,IOL.adv.tools.logger(e.divId+" :: condition: "+a.condition+" is "+i+" runned "+e.onRenderEnded.runned,t),i)if(i=d.slotId,a.called=!1,!d.displayFallback&&IOL.adv.headerBidding.prebidjs.enable&&pbjs.getAllWinningBids().forEach((function(a){a.adUnitCode==e.divId&&(d.w=a.width,d.h=a.height,IOL.adv.tools.logger(e.divId+" :: attribute override by prebid :: w"+d.w+", h:"+d.h,t))})),!1!==d.w&&!1!==d.h){var o=d.w.toString().concat("x",d.h.toString());IOL.adv.tools.logger(e.divId+" :: size:"+o+", allowedSizes:"+a.allowedSizes,t);try{a.allowedSizes.includes(o)||a.allowedSizes.includes("*")?(IOL.adv.tools.logger(e.divId+" :: size compliant, run callback: "+a.callback+" on: "+i+", with args: "+JSON.stringify({w:d.w,h:d.h}),t),a.callback?(a.callback({ad:e,w:d.w,h:d.h,advertiserId:d.advertiserId}),a.called=!0):IOL.adv.tools.logger(e.divId+" :: callback is not defined",t)):IOL.adv.tools.logger(e.divId+" :: sizes not compliant with AllowedSizes",t),e.onRenderEnded.runned===e.onRenderEnded.length&&(delete e.onRenderEnded.slotAttribute,e.onRenderEnded.runned=0)}catch(a){IOL.adv.tools.logger(e.divId+" :: callback error",t)}}else a.allowedSizes.includes("empty")&&(a.callback?(IOL.adv.tools.logger(e.divId+" :: run callback: "+a.callback+" on: "+i+", with size 'empty' on allowedSizes",t),a.callback({ad:e,w:d.w,h:d.h,advertiserId:d.advertiserId}),a.called=!0):IOL.adv.tools.logger(e.divId+" :: callback is not defined",t));else e.onRenderEnded.runned===e.onRenderEnded.length&&(delete e.onRenderEnded.slotAttribute,e.onRenderEnded.runned=0)},syncId:function(e){var a,d,t,i,o,n=IOL.adv.tools.classname+".syncId";IOL.adv.tools.logger("Start function",n),!IOL.adv.syncId.enable||IOL.adv.profile.up.value.isMinor?IOL.adv.tools.logger("Sync disabled: "+IOL.adv.syncId.enable+", isMinor:"+IOL.adv.profile.up.value.isMinor,n):(IOL.adv.tools.mEnable("amazonId")&&window.apstag&&IOL.adv.syncId.vendor.amazon.enable&&((a=IOL.adv.getProfile("ppid.zeo"))?(IOL.adv.headerBidding.apstagInit(),o={hashedRecords:[{type:"email",record:a}]},e?(IOL.adv.tools.logger("Sync amazonId update calling apstag.upa with ppid: "+a,n),window.apstag.upa(o)):(IOL.adv.tools.logger("Sync amazonId calling apstag.rpa with ppid: "+a,n),window.apstag.rpa(o)),IOL.adv.tools.trkIdentity({partner:"amazonID",ppid:a})):(IOL.adv.tools.logger("Remove amazonId calling apstag.dpa",n),window.apstag.dpa())),IOL.adv.tools.mEnable("neustarLinkage")&&IOL.adv.syncId.vendor.neustarLinkage.enable&&(d=IOL.adv.getProfile("ppid.zeo"))&&IOL.adv.tools.loadJs("//aa.agkn.com/adscores/s.js?sid=9112312688&em="+d,!1,(function(){IOL.adv.tools.logger("Sync neustarLinkage with ppid: "+d,n),IOL.adv.tools.trkIdentity({partner:"neustar",ppid:d})}),!1),IOL.adv.tools.mEnable("neustarPG")&&IOL.adv.syncId.vendor.neustarPG.enable&&IOL.adv.tools.loadJs("//pghub.io/js/pandg-sdk.js",!1,(function(){IOL.adv.tools.logger("Sync NeustarPG",n);var e={gdpr:IOL.adv.gdpr.consentString?1:0,gdpr_consent:IOL.adv.gdpr.consentString||"",bp_id:"iolitaly"};Tapad.init(e,{name:"P&G",pixelUrl:"//pandg.tapad.com/tag"}).sync({})})),IOL.adv.tools.mEnable("zeotap")&&IOL.adv.syncId.vendor.zeotap.enable&&(t=IOL.adv.getProfile("ppid.zeo"),IOL.adv.tools.loadJs("//spl.zeotap.com/mapper.js?zdid=1396&idp_partnerid=e2556ea9-3786-4445-a639-eb5d4863e6a2&ctry=ITA&env=mWeb&eventType=pageview&idp=1&partner_dom="+IOL.adv.hostname+"&z_e_sha2_l="+(t||""),!1,(function(){t&&(IOL.adv.tools.logger("Sync zeotap with ppid: "+(t||""),n),IOL.adv.tools.trkIdentity({partner:"zeotap",ppid:t}))}),"zeo_mapping")),IOL.adv.tools.mEnable("liveramp")&&IOL.adv.syncId.vendor.liveramp.enable&&(i=IOL.adv.getProfile("ppid.zeo"))&&IOL.adv.settings.modules.liveramp.url&&IOL.adv.tools.loadJs(IOL.adv.settings.modules.liveramp.url,!1,(function(){IOL.adv.tools.logger("Sync liveramp with ppid: "+i,n),ats.setAdditionalData({type:"emailHashes",id:[i]}),IOL.adv.tools.trkIdentity({partner:"liveramp",ppid:i})}),!1),IOL.adv.tools.mEnable("rematch")&&"string"==typeof(e=IOL.adv.getProfile("ppid.rem"))&&(e.startsWith("L")||e.startsWith("V"))&&IOL.adv.settings.modules.rematch.url&&(o=IOL.adv.cookie.get("LIB_ADV_UCK"))&&2<=(o=o.split("%7C")).length&&(e=o[1]+"_"+e,IOL.adv.tools.logger("Sync rematch with ppid: "+e,n),IOL.adv.tools.trkIdentity({partner:"rematch",ppid:e}),(new Image).src=IOL.adv.settings.modules.rematch.url+e),IOL.adv.tools.logger("End function",n))},getBrowser:function(){var e=IOL.adv.settings.classname+".getBrowser",a=(a=navigator.userAgent).match(/chrome|chromium|crios/i)?"chrome":a.match(/firefox|fxios/i)?"firefox":a.match(/safari/i)?"safari":a.match(/opr\//i)?"opera":!!a.match(/edg/i)&&"edge";return IOL.adv.tools.logger("Browser: "+a,e),a},eViewTrigger:function(e){var a=IOL.adv.tools.classname+".eViewTrigger";try{if(!e.config.ad)throw"ads not set";if(!IOL.adv.manager.slotsContainer[e.config.ad.id])throw"ads "+e.config.ad.id+" not found";if(e.config.el=document.getElementById(e.config.ad.divId),!e.config.el)throw"ads container not found";var d=0,t=(e.config.percentView=e.config.percentView||100,e.config.onFocusChange=e.config.onFocusChange||!1,e.config.onFocusChangeBoost=e.config.onFocusChangeBoost||.25,e.config.callback=e.config.callback||function(){IOL.adv.refreshSlot(e.config.ad.id)},e.config.hasFocus=document.hasFocus(),e.config.h),i=(e.config.adsH=t-Math.floor(e.config.percentView/100*t),IOL.adv.tools.logger(e.config.ad.id+" :: config: "+JSON.stringify(e.config),a),IOL.adv.manager.slotsContainer[e.config.ad.id].setTargeting("adv_refresh",!0),setInterval((function(){var t=(o=e.config.el.getBoundingClientRect()).top+e.config.adsH,o=o.top+(o.height-e.config.adsH),n=document.hasFocus(),s=e.config.onFocusChange&&n&&e.config.hasFocus!==n;d+=s?Math.floor(e.config.thresholdTime*e.config.onFocusChangeBoost):0,n&&0<=t&&0<=o&&o<=Math.min(document.documentElement.clientHeight,window.innerHeight||0)&&(d+=1),IOL.adv.tools.logger(e.config.ad.id+" :: viewed time: "+d+", hasFocus: "+n+", focusChanged: "+s+", eTopY:"+t+", eBottomY:"+o+", Math.min:"+Math.min(document.documentElement.clientHeight,window.innerHeight||0),a),d>=e.config.thresholdTime&&(IOL.adv.tools.logger(e.config.ad.id+" :: threshold reached",a),clearInterval(i),e.config.callback()),e.config.hasFocus=n}),1e3))}catch(e){IOL.adv.tools.logger("Error: "+e,a,"error")}},setPrebidUrl:function(e){return IOL.adv.settings.classname,!IOL.adv.gdpr.enable&&e&&(IOL.adv.settings.library.prebid.url=e),!0},parseUp:function(e){var a,d=IOL.adv.settings.classname+".parseUp";IOL.adv.profile.up.value.up?(IOL.adv.profile.up.comingFrom=e||"unknow",0<(a=IOL.adv.profile.up.value.up.split("-")).length&&(IOL.adv.profile.up.value.age=a[0]||"0",IOL.adv.profile.up.value.gender=a[1]||"0",IOL.adv.profile.up.value.province=a?a[2]:"0"),IOL.adv.profile.up.value.isMinor="x"==IOL.adv.profile.up.value.age,IOL.adv.tools.logger(JSON.stringify(IOL.adv.profile.up.value)+", coming from: "+e,d)):IOL.adv.tools.logger("up is empty, coming from: "+e,d)},geoedgeCondition:function(){var e=IOL.adv.settings.classname+".geoedgeCondition",a=!!(IOL.adv.pageWidth<=640||"safari"==IOL.adv.browser||IOL.adv.pubAdsCfg.antiMalware);return IOL.adv.tools.logger("geoedge condition: "+a,e),a},pbjsHybridCondition:function(){var e=IOL.adv.tools.classname+".pbjsHybridCondition",a=!1;return IOL.adv.settings.hasOwnProperty("pbjsHybrid")&&(a=IOL.adv.settings.pbjsHybrid.hasOwnProperty("condition")?"function"==typeof IOL.adv.settings.pbjsHybrid.condition&&IOL.adv.settings.pbjsHybrid.condition():IOL.adv.pageWidth<=728),IOL.adv.tools.logger("pbjsHybrid condition: "+a,e),a},getDevice:function(){return 0<IOL.adv.pageWidth&&IOL.adv.pageWidth<728?"mobile":727<IOL.adv.pageWidth&&IOL.adv.pageWidth<1024?"tablet":"desktop"}},IOL.adv.cookie={get:function(e,a){var d=!1;if(IOL.adv.deviceAccess.enable||a)for(var t=e.split(","),i=document.cookie.split(";"),o=i.length,n=0;n<t.length;n++)for(var s=t[n]+"=",r=0;r<o;r++){for(var l=i[r];" "==l.charAt(0);)l=l.substring(1,l.length);0===l.indexOf(s)&&(d=l.substring(s.length,l.length))}return d},getProfileEnable:function(){var e;return IOL.adv.gdpr.tcfv20.pipeline.policyCookie?"on"==(e=IOL.adv.cookie.get(IOL.adv.gdpr.tcfv20.pipeline.policyCookie)):!!(e=IOL.adv.cookie.get("policy_cookie"))&&"1"==e[3]},set:function(e,a,d,t,i,o){(IOL.adv.deviceAccess.enable||o)&&((o=new Date).setDate(o.getDate()+d),document.cookie=e+"="+escape(a)+(null===d?"":"; expires="+o.toUTCString())+"; Secure; SameSite=Strict; path="+(void 0===t?"/":t)+"; domain="+(i||IOL.adv.domain))},erase:function(e,a){document.cookie=e+"=; Max-Age=0; path=/; domain="+(a||IOL.adv.domain)},enabled:function(){if(!IOL.adv.deviceAccess.enable)return!1;this.set(IOL.adv.domain,"probe","ok",1);var e="ok"==this.get("probe");return this.set(IOL.adv.domain,"probe","",-1),e}},IOL.adv.settings={classname:"IOL.adv.settings",ns:"virgilio.web.homepage.2.7",pbjsHybrid:{display:["appnexus","criteo","pubmatic","ogury"],videoInstream:["appnexus","criteo","pubmatic","freewheel-ssp","smartadserver"],native:["appnexus","criteo"]},modules:{liveramp:{enable:!0,atsAnalytics:!0,url:"//ats-wrapper.privacymanager.io/ats-modules/801d949d-dde8-4fa7-9a66-75bbf430bd8e/ats.js"},amazonId:!0,neustarLinkage:!0,neustarPG:!0,aax:!0,zeotap:!0,trkPerf:!1},library:{geoedge:{enable:!0,mandatory:!1,url:"//rumcdn.geoedge.be/grumi-ip.js",live:!1,condition:function(){return IOL.adv.tools.geoedgeCondition()}},platform:{enable:!0,mandatory:!0,url:"//securepubads.g.doubleclick.net/tag/js/gpt.js",live:!1},quantum:{enable:!0,mandatory:!1,url:"//cdn.elasticad.net/native/serve/js/quantx/nativeEmbed.gz.js",id:"quantx-embed-tag",gdpr:function(){return!0},condition:function(){return IOL.adv.pageWidth<640},live:!1},prebid:{enable:!0,mandatory:!1,url:"//www.iolam.it/js/prebid.js",condition:function(){return IOL.adv.pubAdsCfg.prebid},live:!1},amazon:{enable:!0,mandatory:!1,url:"//c.amazon-adsystem.com/aax2/apstag.js",live:!1,condition:function(){return IOL.adv.pubAdsCfg.prebid}},ketai:{enable:!0,mandatory:!1,url:"//static-adj01.ketai.it/ketai.prod.v2b2.js?v2.2.0",gdpr:function(){return IOL.adv.gdpr.consentGoogle||(window.__ketai_active=!0),!IOL.adv.gdpr.consentGoogle},condition:function(){return!IOL.adv.gdpr.consentGoogle},live:!1},intersectionObserver:{enable:!0,mandatory:!1,url:"//www.iolam.it/js/polyfill/intersection-observer.js",live:!1,condition:function(){return"function"!=typeof IntersectionObserver&&IOL.adv.pubAdsCfg.lazy}}},dmp:{"1plusx":{tagger:{enable:!0,url:"https://cdn.opecloud.com/ope-italiaonline.js"},api:{enable:!0,url:"//italiaonline.profiles.tagger.opecloud.com/v1/targeting",callback:function(e){"function"==typeof iol_profiling_cbk&&iol_profiling_cbk(e)}}}},disableInitialLoad:!1,enableSingleRequest:!0,enableAsyncRendering:!0,lazy:{observer:{obj:null,options:{threshold:[.001],rootMargin:"550px 0px 550px 0px"}},divIdSlotIdMap:{}},percentCustomerBase:1,prestitial:{timer:null,cookie:{name:"ps",value:{ts:0,imp:0},duration:1},freqCap:[{from:0,to:11,value:1,delay:3600},{from:12,to:15,value:1,delay:3600},{from:16,to:23,value:1,delay:3600}]},slots:{default:{fnInit:"IOL.adv.settings.fnInit()",sliderContainer:{fnInit:"IOL.adv.settings.fnInitSliderContainer()",content:[],count:0,complete:0,fnFinally:"IOL.adv.settings.fnFinallySliderContainer()"},dynamic:{enable:!0,adUnitPath:"/5180/virgilio/hp/dynamic",size:[[300,250]],ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_dynamic%IDX%" data-type="BOX" data-site="site-23-46-11484" data-pub="pub-23-14-62321" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"}},ads:{adwallpaper:{adUnitPath:"/5180/virgilio/hp/top",divId:"adwallpaper",size:[[1200,90],[970,250],[970,270],[728,90],[320,160],[320,50],[320,100]],sizeMapping:{desktop:[[1024,10],[[1200,90],[970,250],[970,270],[728,90]]],tablet:[[768,10],[[728,90]]],mobile:[[320,10],[[320,160],[320,50],[320,100]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,ketai:728<=IOL.adv.pageWidth&&{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_adwallpaper" data-type="LEADERBOARD" data-site="site-23-46-47764" data-pub="pub-23-14-15368" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,lazy:!1,onRenderEnded:[{condition:function(){return"function"==typeof adv_320_tempor},allowedSizes:["320x100","320x50"],callback:function(e){adv_320_tempor(e.h,7)}},{allowedSizes:["320x160"],callback:function(e){document.getElementById("adwallpaper").style.display="none"}}],fnBefore:!1,fnAfter:!1},admputop:{adUnitPath:"/5180/virgilio/hp/topright",divId:"admputop",size:[[300,250],[300,600]],sizeMapping:{desktop:[[1024,10],[[300,250],[300,600]]],tablet:[[768,10],[[300,250]]],mobile:[[320,10],[[300,250],[300,600]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_admputop" data-type="HALFPAGE" data-site="site-23-46-71275" data-pub="pub-23-14-86022" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return"function"==typeof displayMaxiMpu},allowedSizes:["300x600"],callback:function(){displayMaxiMpu()}},fnBefore:!1,fnAfter:!1},admpumiddle:{adUnitPath:"/5180/virgilio/hp/middle",divId:"admpumiddle",size:[[300,250],[300,600]],sizeMapping:{desktop:[[1024,10],[[300,250]]],tablet:[[768,10],[[300,250]]],mobile:[[320,10],[[300,250],[300,600]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!1,!1],forceSafeFrame:!1,ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_admpumiddle" data-type="BOX" data-site="site-23-46-11484" data-pub="pub-23-14-62321" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,fnBefore:!1,fnAfter:!1},adslider:{adUnitPath:"/5180/virgilio/hp/slider/pos1",divId:"adslider",slider:!0,outOfPage:!0,setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adslider2:{adUnitPath:"/5180/virgilio/hp/slider/pos2",divId:"adslider2",slider:!0,outOfPage:!0,setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adslider3:{adUnitPath:"/5180/virgilio/hp/slider/pos3",divId:"adslider3",slider:!0,outOfPage:!0,validRangeSize:{"tablet,desktop":{minW:768,maxW:9999}},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adnative1:{adUnitPath:"/5180/virgilio/hp/native/pos1",divId:"stories4",size:["fluid",[1,1]],setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return!0},allowedSizes:["empty"],forceOnSlotRenderEnded:!0,callback:function(){document.getElementById("stories4")&&(document.getElementById("stories4").style.display="block")}},fnBefore:!1,fnAfter:!1},adnative2:{adUnitPath:"/5180/virgilio/hp/native/pos2",divId:"lmagazine3",size:["fluid",[1,1]],setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return!0},allowedSizes:["empty"],forceOnSlotRenderEnded:!0,callback:function(){document.getElementById("lmagazine3")&&(document.getElementById("lmagazine3").style.display="block")}},fnBefore:!1,fnAfter:!1},adoutofpage:{adUnitPath:"/5180/virgilio/hp/outofpage",outOfPage:!0,divId:"adoutofpage",setCollapseEmptyDiv:[!0,!1],bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:!1},advideo:{divId:"iol_player_container",adUnitPath:"/5180/virgilio/hp/video",adUnitPathOverride:{"3bmeteo":"/5180/virgilio/hp/video/3bmeteo"},mediaType:"video",optional:!0,bidAmazon:!0,adServerUrlAppendParams:"",adServerUrlAppendCustomParams:"",lazy:!1,fnBefore:!1,fnAfter:!1}},fnFinally:!1},prestitial:{fnInit:"IOL.adv.settings.fnInit()",ads:{adprestitial:{adUnitPath:"/5180/virgilio/hp/prestitial",adUnitPathTest:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/prestitial",divId:"adprestitial",outOfPage:!0,prestitial:!0,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:!1}},fnFinally:"IOL.adv.settings.fnFinallyPrestitial()"},test:{fnInit:"IOL.adv.settings.fnInit()",sliderContainer:{fnInit:"IOL.adv.settings.fnInitSliderContainer()",content:[],count:0,complete:0,fnFinally:"IOL.adv.settings.fnFinallySliderContainer()"},dynamic:{enable:!0,adUnitPath:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/dynamic",size:[[300,250]],ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_dynamic%IDX%" data-type="BOX" data-site="site-23-46-11484" data-pub="pub-23-14-62321" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"}},ads:{adwallpaper:{adUnitPath:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/top",divId:"adwallpaper",size:[[1200,90],[970,250],[970,270],[728,90],[320,160],[320,50],[320,100]],sizeMapping:{desktop:[[1024,10],[[1200,90],[970,250],[970,270],[728,90]]],tablet:[[768,10],[[728,90]]],mobile:[[320,10],[[320,160],[320,50],[320,100]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,ketai:728<=IOL.adv.pageWidth&&{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_adwallpaper" data-type="LEADERBOARD" data-site="site-23-46-47764" data-pub="pub-23-14-15368" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,lazy:!1,onRenderEnded:[{condition:function(){return"function"==typeof adv_320_tempor},allowedSizes:["320x100","320x50"],callback:function(e){adv_320_tempor(e.h,7)}},{allowedSizes:["320x160"],callback:function(e){document.getElementById("adwallpaper").style.display="none"}}],fnBefore:!1,fnAfter:!1},admputop:{adUnitPath:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/topright",divId:"admputop",size:[[300,250],[300,600]],sizeMapping:{desktop:[[1024,10],[[300,250],[300,600]]],tablet:[[768,10],[[300,250]]],mobile:[[320,10],[[300,250],[300,600]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_admputop" data-type="HALFPAGE" data-site="site-23-46-71275" data-pub="pub-23-14-86022" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return"function"==typeof displayMaxiMpu},allowedSizes:["300x600"],callback:function(){displayMaxiMpu()}},fnBefore:!1,fnAfter:!1},admpumiddle:{adUnitPath:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/middle",divId:"admpumiddle",size:[[300,250],[300,600]],sizeMapping:{desktop:[[1024,10],[[300,250]]],tablet:[[768,10],[[300,250]]],mobile:[[320,10],[[300,250],[300,600]]],any:[[0,0],[]]},setCollapseEmptyDiv:[!1,!1],forceSafeFrame:!1,ketai:{html:'<ins class="__ketai" style="display:inline-block;" data-id="virgilio_hp_admpumiddle" data-type="BOX" data-site="site-23-46-11484" data-pub="pub-23-14-62321" data-pubtk="pub-WHFnaDN3RTNFMEM4RGJzcTBMSEUzVUlZZTJtRzJYRnZXWEVQak-site"></ins>',script:"( __ketai = window.__ketai || []).push({})",mode:"asFirst"},bidAmazon:!0,fnBefore:!1,fnAfter:!1},adslider:{adUnitPath:"/5180/testiol/virgilio/slider/test%PLACEHOLDER%/pos1",divId:"adslider",slider:!0,outOfPage:!0,setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adslider2:{adUnitPath:"/5180/testiol/virgilio/slider/test%PLACEHOLDER%/pos2",divId:"adslider2",slider:!0,outOfPage:!0,setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adslider3:{adUnitPath:"/5180/testiol/virgilio/slider/test%PLACEHOLDER%/pos3",divId:"adslider3",slider:!0,outOfPage:!0,validRangeSize:{"tablet,desktop":{minW:768,maxW:9999}},setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:"IOL.adv.settings.fnAfterAdSliderContainer(id, ad)"},adnative1:{adUnitPath:"/5180/testiol/virgilio/native/test%PLACEHOLDER%/pos1",divId:"stories4",size:["fluid",[1,1]],setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return!0},allowedSizes:["empty"],forceOnSlotRenderEnded:!0,callback:function(){document.getElementById("stories4")&&(document.getElementById("stories4").style.display="block")}},fnBefore:!1,fnAfter:!1},adnative2:{adUnitPath:"/5180/testiol/virgilio/native/test%PLACEHOLDER%/pos2",divId:"lmagazine3",size:["fluid",[1,1]],setCollapseEmptyDiv:[!0,!1],forceSafeFrame:!1,bidAmazon:!0,lazy:!1,onRenderEnded:{condition:function(){return!0},allowedSizes:["empty"],forceOnSlotRenderEnded:!0,callback:function(){document.getElementById("lmagazine3")&&(document.getElementById("lmagazine3").style.display="block")}},fnBefore:!1,fnAfter:!1},adoutofpage:{adUnitPath:"/5180/testiol/virgilio/hp/test%PLACEHOLDER%/outofpage",outOfPage:!0,divId:"adoutofpage",setCollapseEmptyDiv:[!0,!1],bidAmazon:!1,lazy:!1,fnBefore:!1,fnAfter:!1},advideo:{divId:"iol_player_container",adUnitPath:"/5180/testiol/virgilio/hp/video",adUnitPathOverride:{"3bmeteo":"/5180/virgilio/hp/video/3bmeteo"},mediaType:"video",optional:!0,bidAmazon:!0,adServerUrlAppendParams:"",adServerUrlAppendCustomParams:"",lazy:!1,fnBefore:!1,fnAfter:!1}},fnFinally:!1}},fnInit:function(){IOL.adv.settings.classname;var e={map:null},a=[];a.push("resplowrider"),1200<=IOL.adv.pageWidth?a.push("lowrider"):IOL.adv.pageWidth<=640&&a.push("moblowrider"),!0===IOL.adv.pubAdsCfg.inread&&a.push("inread"),0<a.length&&(e.map={adv_type:{condition:!0,value:a}}),IOL.adv.manager.customCriteria.map=IOL.adv.tools.extend(IOL.adv.manager.customCriteria.map,e.map),IOL.adv.pubAdsCfg.prestitial&&IOL.adv.settings.openPrestitial(),"undefined"!=typeof _ABTestingTrack&&(IOL.adv.settings.ns+=".test"+_ABTestingTrack.toUpperCase())},fnFinally:function(){IOL.adv.settings.classname},fnInitSliderContainer:function(){var e=IOL.adv.settings.classname+".fnInitSliderContainer";Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].slider&&"display"===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].mediaType&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.count++})),IOL.adv.tools.logger("Init done. Slider count: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.count,e)},fnFinallySliderContainer:function(){var e,a,d=IOL.adv.settings.classname+".fnFinallySliderContainer",t=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer;0==t.count||!IOL.adv.displayEngine.gpt||IOL.adv.debug.tracking.adblock?IOL.adv.tools.logger("No sliders to show.",d):"function"==typeof window._adslider?(e=0,a=setInterval((function(){t.complete==t.count?0<t.content.length||50==e?(0<t.content.length?(IOL.adv.tools.logger("Slider before sort: "+JSON.stringify(t.content),d),t.content=t.content.sort((function(e,a){return(e=e.adunit.toLowerCase())<(a=a.adunit.toLowerCase())?-1:a<e?1:0})),IOL.adv.tools.logger("Slider after sort: "+JSON.stringify(t.content),d),IOL.adv.tools.logger("Slider done. Run function _adslider()",d),window._adslider(t.content)):IOL.adv.tools.logger("Slider contents is empty, nothing to do.",d),clearInterval(a)):IOL.adv.tools.logger("Waiting for slider content set...",d):IOL.adv.tools.logger("Some slider are still running...",d),e++}),100)):IOL.adv.tools.logger("The _adslider function does not exist.",d)},fnFinallyPrestitial:function(){var e=IOL.adv.settings.classname+".fnFinallyPrestitial";googletag.pubads().addEventListener("slotRenderEnded",(function(a){!0===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[a.slot.getSlotElementId()].prestitial&&(IOL.adv.tools.logger("clearTimeout on adprestitial, event.size: "+a.size,e),clearTimeout(IOL.adv.settings.prestitial.timer),null===a.size)&&IOL.adv.settings.closePrestitial()}))},ifPrestitial:function(){var e,a,d,t,i=IOL.adv.settings.classname+".ifPrestitial";return document.getElementById(IOL.adv.settings.slots.prestitial.ads.adprestitial.divId)?!!IOL.adv.debug.prestitial||(e=!1,a=(new Date).getHours(),d=IOL.adv.cookie.get(IOL.adv.settings.prestitial.cookie.name),t=d?JSON.parse(decodeURIComponent(d)):{imp:0,ts:0},IOL.adv.tools.logger("imp: "+t.imp+" , ts: "+t.ts,i),Object.keys(IOL.adv.settings.prestitial.freqCap).forEach((function(d){var o;d=IOL.adv.settings.prestitial.freqCap[d];IOL.adv.tools.logger("Check if h: "+a+", imp: "+t.imp+" are compliant with freqCap.from: "+d.from+" ,freqCap.to: "+d.to+", freqCap.value: "+d.value,i),a>=d.from&&a<=d.to&&t.imp<d.value&&(o=Math.floor((Date.now()-t.ts)/1e3),IOL.adv.tools.logger("Delay is: "+o+" freqCap.delay: "+d.delay,i),o>d.delay?(e=!0,IOL.adv.tools.logger("Scenario is compliant with the frequency cap setting.",i)):IOL.adv.tools.logger("Delay is not enough. Delay "+o+" is less than "+d.delay,i))})),e&&(t.imp++,t.ts=Date.now(),IOL.adv.cookie.set(IOL.adv.settings.prestitial.cookie.name,JSON.stringify(t),IOL.adv.settings.prestitial.cookie.duration)),IOL.adv.tools.logger("Prestitial: "+e+", h: "+a+", ps.imp: "+t.imp+" , ps.ts: "+t.ts,i),e):(IOL.adv.tools.logger("ads container "+IOL.adv.settings.slots.prestitial.ads.adprestitial.divId+" is missing",i),!1)},openPrestitial:function(){var e=IOL.adv.settings.classname+".openPrestitial";IOL.adv.tools.logger("Start function",e);try{document.getElementById("adv_welcomepage")?(document.getElementById("adv_welcomepage").style.display="block",IOL.adv.settings.prestitial.timer=setTimeout((function(){IOL.adv.settings.closePrestitial()}),5e3)):IOL.adv.tools.logger("Prestitial ads container not found",e,"error")}catch(e){}IOL.adv.tools.logger("End function",e)},closePrestitial:function(){var e=IOL.adv.settings.classname+".closePrestitial";IOL.adv.tools.logger("Start function",e),clearTimeout(IOL.adv.settings.prestitial.timer),document.getElementById("adv_welcomepage").style.display="none",IOL.adv.destroySlot("adprestitial"),IOL.adv.pubAdsCfg.prestitial=!1,IOL.adv.pubAdsCfg.slot=IOL.adv.pubAdsCfg.originalSlot,IOL.adv.pubAdsCfg.deferredDivId=!1,IOL.adv.pubAdsCfg.prebid=void 0===window.pubAdsCfg.prebid||window.pubAdsCfg.prebid,void 0!==window.pubAdsCfg&&(IOL.adv.pubAdsCfg.native=window.pubAdsCfg.native||!1,IOL.adv.pubAdsCfg.inread=window.pubAdsCfg.inread||!1,IOL.adv.pubAdsCfg.lazy=window.pubAdsCfg.lazy||!1,IOL.adv.pubAdsCfg.prebid=window.pubAdsCfg.prebid||!0,IOL.adv.tools.logger("Client pubAdsCfg: "+JSON.stringify(window.pubAdsCfg)+", Iam pubAdsCfg: "+JSON.stringify(IOL.adv.pubAdsCfg),e)),IOL.adv.manager.init((function(){IOL.adv.manager.run()})),IOL.adv.tools.logger("End function",e)},fnAfterAdSliderContainer:function(e,a){googletag.pubads().addEventListener("slotRenderEnded",(function(e){var d=IOL.adv.settings.classname+".fnAfterAdSliderContainer";try{var t=e.slot.getSlotElementId();IOL.adv.tools.logger("event.slot: "+t+" ad.divId: "+a.divId+" event.isEmpty: "+e.isEmpty,d),t==a.divId&&a.slider&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.complete++,e.isEmpty||(a.filled=!0))}catch(e){}}))}},IOL.adv.settings.prebidjs={adUnits:[{code:"iol_player_container",mediaTypes:{video:{context:"instream",sizeConfig:[{minViewPort:[0,0],playerSize:[]},{minViewPort:[319,0],playerSize:[[640,480]]}],api:[2],mimes:["video/mp4","video/webm","application/javascript","video/ogg"],protocols:[2,3,5,6,7,8],playbackmethod:[1],linearity:1,maxduration:30,skip:1}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{placementId:22161553,video:{skippable:!0,minduration:5,maxduration:30,frameworks:[2],mimes:["video/mp4","video/webm","application/javascript","video/ogg"],startdelay:0,playback_method:["auto_play_sound_on"]}}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{publisherId:"83172",adSlot:"3957993",video:{skippable:!0,minduration:5,maxduration:30,startdelay:0,api:[2],mimes:["video/mp4","video/webm","application/javascript","video/ogg"],protocols:[2,3,5,6,7,8],playbackmethod:[1],w:640,h:480,linearity:1,placement:1}}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{siteId:"700213",size:[640,480],video:{minduration:5,maxduration:30,mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],protocols:[2,3,5,6,7,8],playback_method:["auto_play_sound_off"]}}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_video"}}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{placementId:22541737,publisherId:946}},{bidder:"freewheel-ssp",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{zoneId:"14265263"}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{uid:96121,useNewFormat:!0}},{bidder:"adform",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{mid:1092183}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{zoneId:1671910,publisherSubId:"virgilio_HP_Desktop_video",video:{skip:1,minduration:5,startdelay:0,playbackmethod:1,placement:1}}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["video"]}],params:{accountId:"11334",siteId:"109292",zoneId:"2500394",position:"atf"}}]},{code:"adwallpaper",mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[1024,0],sizes:[[1800,1e3]]}]}},bids:[{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["banner"]}],params:{placementId:22322985,publisherId:946}}]},{code:"adwallpaper",mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[319,0],sizes:[[320,50],[320,100]]},{minViewPort:[768,0],sizes:[[728,90]]},{minViewPort:[1024,0],sizes:[[728,90],[970,250]]}]}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:11806751}},{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:19054392}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_adwallpaper"}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_MobileWeb_adwallpaper"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{publisherId:"83172",adSlot:"1176199"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{publisherId:"83172",adSlot:"2777242"}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["banner"]}],params:{placementId:22397937,publisherId:946}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:16038906,publisherId:946}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:22268570,publisherId:946}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_adwallpaper"}}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_MobileWeb_adwallpaper"}}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{uid:35461,useNewFormat:!0}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{uid:35466,useNewFormat:!0}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:"731024",size:[728,90]}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:"732932",size:[320,100]}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[1024,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108371}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108305}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:482352,pageId:1518177,formatId:108305}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{accountId:"11334",siteId:"109292",zoneId:"515156",position:"atf"}},{bidder:"ogury",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[728,0],relevantMediaTypes:["none"]}],params:{adUnitId:"wm-hb-head-virgil-itali-rjkvt4niphxp",assetKey:"OGY-0822B59F93DB",skipSizeCheck:!0}}]},{code:"admputop",mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[319,0],sizes:[[300,250],[300,600]]},{minViewPort:[768,0],sizes:[[300,250]]},{minViewPort:[1024,0],sizes:[[300,250],[300,600]]}]}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:11806750}},{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:11806755}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_admputop"}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_MobileWeb_admputop"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{publisherId:"83172",adSlot:"1176200"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{publisherId:"83172",adSlot:"1211554"}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:16038911,publisherId:946}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:16038924,publisherId:946}},{bidder:"teads",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:122682,pageId:112867}},{bidder:"teads",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:122684,pageId:112869}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_admputop"}}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_MobileWeb_admputop"}}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{uid:35460,useNewFormat:!0}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{uid:35467,useNewFormat:!0}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:"732902",size:[300,250]}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:"732927",size:[300,250]}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108299}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:482352,pageId:1518177,formatId:108299}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{accountId:"11334",siteId:"109292",zoneId:"814318",position:"atf"}}]},{code:"admpumiddle",mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[319,0],sizes:[[300,250],[300,600]]},{minViewPort:[768,0],sizes:[[300,250]]}]}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:11806749}},{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:12083844}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_admpumiddle"}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_MobileWeb_admpumiddle"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{publisherId:"83172",adSlot:"1176201"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{publisherId:"83172",adSlot:"1211554"}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:16038931,publisherId:946}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:16038937,publisherId:946}},{bidder:"teads",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{placementId:106116,pageId:97890}},{bidder:"teads",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{placementId:122683,pageId:112868}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_admpumiddle"}}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_MobileWeb_admpumiddle"}}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{uid:35458,useNewFormat:!0}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{uid:35465,useNewFormat:!0}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:"732897",size:[300,250]}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:"732922",size:[300,250]}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108298}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]},{minViewPort:[768,0],relevantMediaTypes:["none"]}],params:{siteId:482352,pageId:1518177,formatId:108298}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[768,0],relevantMediaTypes:["banner"]}],params:{accountId:"11334",siteId:"109292",zoneId:"743832",position:"btf"}}]},{code:"stories4",mediaTypes:{native:{sizeConfig:[{minViewPort:[0,0],active:!1},{minViewPort:[319,0],active:!0}],image:{required:!0,sendId:!0},title:{required:!0,sendId:!0,len:70},clickUrl:{required:!0,sendId:!0}}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["native"]},{minViewPort:[728,0],relevantMediaTypes:["none"]}],params:{placementId:18317085,allowSmallerSizes:!0}},{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[728,0],relevantMediaTypes:["native"]}],params:{placementId:18317078,allowSmallerSizes:!0}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["native"]},{minViewPort:[728,0],relevantMediaTypes:["none"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_MobileWeb_native1"}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[728,0],relevantMediaTypes:["native"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_native1"}}]},{code:"lmagazine3",mediaTypes:{native:{sizeConfig:[{minViewPort:[0,0],active:!1},{minViewPort:[319,0],active:!0}],image:{required:!0,sendId:!0},title:{required:!0,sendId:!0,len:70},clickUrl:{required:!0,sendId:!0}}},bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["native"]},{minViewPort:[728,0],relevantMediaTypes:["none"]}],params:{placementId:18438208,allowSmallerSizes:!0}},{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[728,0],relevantMediaTypes:["native"]}],params:{placementId:18438206,allowSmallerSizes:!0}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["native"]},{minViewPort:[728,0],relevantMediaTypes:["none"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_MobileWeb_native2"}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[728,0],relevantMediaTypes:["native"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_native2"}}]}],dynamicAdUnits:[{mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[319,0],sizes:[[300,250]]}]}},code:"placeHolderCode1",bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{placementId:21358212}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_dynamic1"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{publisherId:"83172",adSlot:"3582562"}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{placementId:22478561,publisherId:946}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_dynamic1"}}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{uid:59095,useNewFormat:!0}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{siteId:"732907",size:[300,250]}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108300}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{accountId:"11334",siteId:"109292",zoneId:"2027576",position:"btf"}}]},{mediaTypes:{banner:{sizeConfig:[{minViewPort:[0,0],sizes:[]},{minViewPort:[319,0],sizes:[[300,250]]}]}},code:"placeHolderCode2",bids:[{bidder:"appnexus",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{placementId:21358213}},{bidder:"criteo",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{networkId:1994,publisherSubId:"virgilio_HP_Desktop_dynamic2"}},{bidder:"pubmatic",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{publisherId:"83172",adSlot:"3582563"}},{bidder:"improvedigital",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{placementId:22478562,publisherId:946}},{bidder:"onetag",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{pubId:"389a1a1c29",ext:{placement_name:"virgilio_HP_Desktop_dynamic2"}}},{bidder:"grid",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{uid:59096,useNewFormat:!0}},{bidder:"ix",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{siteId:"732912",size:[300,250]}},{bidder:"smartadserver",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{siteId:482352,pageId:1518176,formatId:108301}},{bidder:"rubicon",sizeConfig:[{minViewPort:[0,0],relevantMediaTypes:["none"]},{minViewPort:[319,0],relevantMediaTypes:["banner"]}],params:{accountId:"11334",siteId:"109292",zoneId:"2027578",position:"btf"}}]}]},IOL.adv.manager={classname:"IOL.adv.manager",divIdReady:!1,divIdReadyList:[],slotsContainer:[],refreshSlotsContainer:[],originalSlotsContainer:[],divIdAdsIdMap:{},lastSlotIdReady:"",videoAds:!1,videoOnly:!1,deferredIteration:0,deferredMaxIteration:1e3,deferredInterval:20,deferredTimer:null,customCriteria:{map:{},set:[],duration:""},init:function init(fn){var classFunc=IOL.adv.manager.classname+".init";IOL.adv.tools.logger("Start function",classFunc);try{"function"==typeof IamCallbackInitialize&&(IOL.adv.tools.logger("Hook IamCallbackInitialize",classFunc),IamCallbackInitialize())}catch(e){}Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];a.id=e,a.mediaType=void 0!==a.mediaType?a.mediaType:"display",a.size=null==a.size?[]:a.size,a.lazy=void 0===a.lazy||a.lazy,a.optional=void 0!==a.optional&&a.optional,a.customCriteria=void 0!==a.customCriteria&&a.customCriteria,a.sizeIsCompliant=!0,a.onRenderEnded=void 0!==a.onRenderEnded?Array.isArray(a.onRenderEnded)?a.onRenderEnded:Array(a.onRenderEnded):[],a.refresh=void 0!==a.refresh?a.refresh:{ts:!1,gap:500},"video"==a.mediaType&&(a.size=[[640,480]]),a.validRangeSize&&(IOL.adv.tools.logger(e+" :: validRangeSize has been requested",classFunc),IOL.adv.tools.validRangeSize(IOL.adv.pageWidth,a,e)),a.divIdSwap&&(IOL.adv.tools.logger(e+" :: divIdSwap has been requested",classFunc),IOL.adv.tools.divIdSwap(IOL.adv.pageWidth,a,e)),IOL.adv.manager.divIdAdsIdMap[a.divId]=e})),Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];a.divIdReady||"display"!=a.mediaType||(a.divIdReady=IOL.adv.tools.divIdReady(a),a.divIdReady?IOL.adv.tools.logger("ads container: "+a.divId+" is ready :: config :: "+JSON.stringify(a),classFunc):(IOL.adv.tools.logger("ads container: "+a.divId+" is not ready, disable ads. Optional: "+(!0===a.optional),classFunc,"warning"),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].mediaType="disabledDivIdNotReady",IOL.adv.settings.hasOwnProperty("prebidjs")&&IOL.adv.settings.prebidjs.hasOwnProperty("adUnits")&&(IOL.adv.settings.prebidjs.adUnits=IOL.adv.settings.prebidjs.adUnits.filter(IOL.adv.headerBidding.rmAdunitByCode,{code:a.divId})),!0!==a.optional&&IOL.adv.tools.track({e:"error.divIdDoesNotExist",div:a.divId,t:Math.floor(performance.now()),lv:"warning"})))})),!IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit||IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInitDone||(IOL.adv.tools.logger("Run fnInit on slot: "+IOL.adv.pubAdsCfg.slot+" using function: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit,classFunc),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInitDone=!0,eval(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnInit)),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnInit&&(IOL.adv.tools.logger("Run fnInit on slot: "+IOL.adv.pubAdsCfg.slot+" using function: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnInit,classFunc),eval(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnInit)),Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(id){var ad=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[id];"display"==ad.mediaType&&(ad.fnBefore&&(IOL.adv.tools.logger(id+" run fnBefore",classFunc),eval(ad.fnBefore)),ad.adUnitPath=IOL.adv.getAdUnitPath(id,!1,classFunc))}));var adsCount=Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).filter((function(e){if("display"==IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].mediaType)return!0})).length;IOL.adv.tools.logger("number of defined ads: "+adsCount,classFunc),0==adsCount?(IOL.adv.complete=!0,IOL.adv.tools.logger("IAM complete",classFunc)):fn(),IOL.adv.tools.asHandler("tagger")},run:function(){var classFunc=IOL.adv.manager.classname+".run",adUnits=(IOL.adv.tools.logger("Start function. ",classFunc),IOL.adv.pubAdsCfg.lazy=!(!IOL.adv.pubAdsCfg.lazy||"function"!=typeof IntersectionObserver||void 0===IOL.adv.settings.lazy),IOL.adv.pubAdsCfg.lazy&&(IOL.adv.settings.enableAsyncRendering=!0,IOL.adv.settings.disableInitialLoad=!0,IOL.adv.tools.logger("Lazy enable, init IntersectionObserver",classFunc),IOL.adv.settings.lazy.observer.obj=new IntersectionObserver((function(e){for(var a=e.length,d=0;d<a;d++){var t=e[d];IOL.adv.tools.logger("IntersectionObserver: div: "+t.target.id+", ratio: "+t.intersectionRatio,classFunc),0<t.intersectionRatio&&(IOL.adv.tools.logger("IntersectionObserver: "+t.target.id+" is visible, remove observer, display ads",classFunc),IOL.adv.settings.lazy.observer.obj.unobserve(document.getElementById(t.target.id)),t=IOL.adv.settings.lazy.divIdSlotIdMap[t.target.id],IOL.adv.tools.displayAds({slotId:t,changeCorrelator:!1}))}}),IOL.adv.settings.lazy.observer.options)),[]),ads=(IOL.adv.settings.hasOwnProperty("prebidjs")&&IOL.adv.settings.prebidjs.hasOwnProperty("adUnits")&&(adUnits=IOL.adv.settings.prebidjs.adUnits.filter((function(e){var a=!1;if(e.mediaTypes.hasOwnProperty("video")&&e.mediaTypes.video.hasOwnProperty("context")&&"outstream"==e.mediaTypes.video.context&&(a=!0),a=!(!e.mediaTypes.hasOwnProperty("banner")&&!e.mediaTypes.hasOwnProperty("native"))||a)return IOL.adv.tools.logger("adUnits.filter add: "+e.code,classFunc),!0;IOL.adv.tools.logger("adUnits.filter discard: "+e.code,classFunc)}))),{}),googletag=(Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];"display"==a.mediaType&&((ads[e]=a).mgid&&(IOL.adv.tools.logger(a.divId+": mgid found",classFunc),IOL.adv.tools.displayMgid(a,"asFirst",(function(){return!(IOL.adv.gdpr.consentGoogle||IOL.adv.pubAdsCfg.deferredDisplay||"asFirst"!=a.mgid.mode&&IOL.adv.headerBidding.enable)}),(function(){IOL.adv.tools.logger(e+": disable hb, use mgid for this ads",classFunc),a.bidAmazon=!1,adUnits=adUnits.filter((function(e){return e.code!=a.divId}))}),classFunc)),a.ketai)&&(IOL.adv.tools.logger(a.divId+": ketai found",classFunc),IOL.adv.tools.displayKetai(a,"asFirst",(function(){return!(IOL.adv.gdpr.consentGoogle||IOL.adv.pubAdsCfg.deferredDisplay||"asFirst"!=a.ketai.mode&&IOL.adv.headerBidding.enable)}),(function(){IOL.adv.tools.logger(e+": disable hb, use ketai for this ads",classFunc),a.bidAmazon=!1,adUnits=adUnits.filter((function(e){return e.code!=a.divId}))}),classFunc))})),IOL.adv.pubAdsCfg.deferredRun||IOL.adv.settings.deferredHeaderBidding||IOL.adv.headerBidding.init(ads,adUnits,(function(){IOL.adv.headerBidding.run()})),window.googletag||{});googletag.cmd=googletag.cmd||[],googletag.cmd.push((function(){IOL.adv.tools.logger("Start googletag.cmd.push",classFunc);var companionVideo=!1;if(IOL.adv.settings.disableInitialLoad&&googletag.pubads().disableInitialLoad(),IOL.adv.settings.enableSingleRequest&&googletag.pubads().enableSingleRequest(),IOL.adv.settings.enableAsyncRendering&&googletag.pubads().enableAsyncRendering(),Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(id){IOL.adv.tools.logger("Start manage ads "+id,classFunc);var ad=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[id],sizeMapping;if("display"==ad.mediaType){if(IOL.adv.tools.logger(ad.divId+" is ready, run googletag defineSlot",classFunc),IOL.adv.pubAdsCfg.lazy&&!1!==ad.lazy&&(ad.setCollapseEmptyDiv=[!1,!1]),ad.onRenderEnded)try{ad.onRenderEnded.forEach((function(e){IOL.adv.tools.logger("found onRenderEnded for "+ad.divId,classFunc),e.condition=e.condition||"default",e.allowedSizes=e.allowedSizes?Array.isArray(e.allowedSizes)?e.allowedSizes:Array(e.allowedSizes):[],IOL.adv.tools.onRenderEnded(ad,e)}))}catch(e){}if(IOL.adv.manager.lastSlotIdReady=id,ad.outOfPage)if(ad.interstitial){if(IOL.adv.manager.slotsContainer[id]=googletag.defineOutOfPageSlot(ad.adUnitPath.trim(),googletag.enums.OutOfPageFormat.INTERSTITIAL),!IOL.adv.manager.slotsContainer[id])return void IOL.adv.tools.logger("interstitial not supported for ads container: "+ad.divId+", discard this slot",classFunc);IOL.adv.manager.slotsContainer[id].addService(googletag.pubads()),IOL.adv.tools.logger("interstitial supported for ads container: "+ad.divId,classFunc)}else IOL.adv.manager.slotsContainer[id]=googletag.defineOutOfPageSlot(ad.adUnitPath.trim(),ad.divId).addService(googletag.pubads());else IOL.adv.manager.slotsContainer[id]=googletag.defineSlot(ad.adUnitPath.trim(),ad.size,ad.divId).addService(googletag.pubads());ad.customCriteria&&ad.customCriteria.forEach((function(e){Object.keys(e).forEach((function(a){IOL.adv.manager.slotsContainer[id].setTargeting(a,e[a])}))})),ad.companionVideo&&(IOL.adv.tools.logger("Ads settings of "+id+" :: companionVideo: "+ad.companionVideo,classFunc),companionVideo=!0,IOL.adv.manager.slotsContainer[id].addService(googletag.companionAds())),ad.setCollapseEmptyDiv&&IOL.adv.manager.slotsContainer[id].setCollapseEmptyDiv(ad.setCollapseEmptyDiv[0],ad.setCollapseEmptyDiv[1]),ad.sizeMapping&&(IOL.adv.tools.logger("Start define sizeMapping for "+ad.divId,classFunc),sizeMapping=googletag.sizeMapping(),Object.keys(ad.sizeMapping).forEach((function(e){IOL.adv.tools.logger(ad.divId+" enable sizeMapping for dimension: "+e+" with size: "+ad.sizeMapping[e][0]+" :: "+ad.sizeMapping[e][1],classFunc),sizeMapping.addSize(ad.sizeMapping[e][0],ad.sizeMapping[e][1])})),sizeMapping)&&IOL.adv.manager.slotsContainer[id].defineSizeMapping(sizeMapping.build()),ad.forceSafeFrame&&(IOL.adv.manager.slotsContainer[id].setForceSafeFrame(!0),googletag.pubads().setSafeFrameConfig({sandbox:!0})),ad.fnAfter&&(IOL.adv.tools.logger(ad.divId+" run fnAfter",classFunc),eval(ad.fnAfter))}else IOL.adv.tools.logger(id+" is a video ads.",classFunc)})),IOL.adv.pubAdsCfg.gptlazy&&(IOL.adv.tools.logger("Run googletag.enableLazyLoad",classFunc),googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:200,mobileScaling:2})),companionVideo&&(IOL.adv.tools.logger("companionVideo, run enableVideoAds",classFunc),googletag.companionAds().setRefreshUnfilledSlots(!1),googletag.pubads().enableVideoAds()),IOL.adv.tools.logger("Run googletag.enableServices",classFunc),googletag.enableServices(),!IOL.adv.headerBidding.enable&&!IOL.adv.pubAdsCfg.deferredRun){IOL.adv.pubAdsCfg.lazy?(IOL.adv.tools.logger("Start Lazy loading in standard mode",classFunc),Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a,d=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];"display"==d.mediaType&&(0==d.lazy?(IOL.adv.tools.logger(d.divId+", lazy disable for this ads, start display",classFunc),IOL.adv.tools.displayAds({slotId:e,changeCorrelator:!1})):(IOL.adv.tools.logger(d.divId+", lazy enabled for this ads, start intersectionObserver",classFunc),(a=IOL.adv.tools.divIdReady(d,!0))&&(IOL.adv.settings.lazy.observer.obj.observe(a),IOL.adv.settings.lazy.divIdSlotIdMap[d.divId]=e)))}))):(IOL.adv.tools.logger("Ads start displayAds in standard mode for slot: "+IOL.adv.pubAdsCfg.slot,classFunc),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&IOL.adv.tools.trkPerf("iamRenderingStartMpuTop",Math.floor(performance.now())),IOL.adv.tools.displayAds());try{"function"==typeof IamCallbackOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackOnComplete. HeaderBidding is disable",classFunc),IamCallbackOnComplete())}catch(e){}}IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnFinally&&(IOL.adv.tools.logger("Run fnFinally on slot: "+IOL.adv.pubAdsCfg.slot+" using function: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnFinally,classFunc),eval(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].fnFinally)),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer&&IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnFinally&&(IOL.adv.tools.logger("Run fnFinally on slot: "+IOL.adv.pubAdsCfg.slot+" using function: "+IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnFinally,classFunc),eval(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].sliderContainer.fnFinally)),IOL.adv.pubAdsCfg.deferredRun&&(IOL.adv.complete=!0,IOL.adv.tools.logger("IAM complete",classFunc)),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&googletag.pubads().addEventListener("slotRequested",(function(e){try{var a=e.slot;a.getSlotElementId()===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop.divId&&(IOL.adv.tools.logger("track slotRequested for slot: "+a.getSlotElementId(),classFunc),IOL.adv.tools.trkPerf("iamSlotRequestedMpuTop",Math.floor(performance.now())))}catch(e){}})),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&googletag.pubads().addEventListener("slotOnload",(function(e){try{var a=e.slot;a.getSlotElementId()===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop.divId&&(IOL.adv.tools.logger("track slotOnload for slot: "+a.getSlotElementId(),classFunc),IOL.adv.tools.trkPerf("iamSlotOnLoadMpuTop",Math.floor(performance.now())))}catch(e){}})),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&googletag.pubads().addEventListener("slotResponseReceived",(function(e){try{var a=e.slot;a.getSlotElementId()===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop.divId&&(IOL.adv.tools.logger("track slotOnload for slot: "+a.getSlotElementId(),classFunc),IOL.adv.tools.trkPerf("iamSlotResponseReceivedMpuTop",Math.floor(performance.now())))}catch(e){}})),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&googletag.pubads().addEventListener("slotRenderEnded",(function(e){try{var a=e.slot;a.getSlotElementId()===IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop.divId&&(IOL.adv.tools.logger("track slotRenderEnded for slot: "+a.getSlotElementId(),classFunc),IOL.adv.tools.trkPerf("iamSlotRenderEndedMpuTop",Math.floor(performance.now())))}catch(e){}})),googletag.pubads().addEventListener("slotRenderEnded",(function(e){try{var a;if(IOL.adv.headerBidding.prebidjs.enable){for(var d={},t=pbjs.getHighestCpmBids(),i=0;i<t.length;i++){var o={};o[t[i].cpm]={id:t[i].adUnitCode,size:t[i].size,bidder:t[i].bidder},d=IOL.adv.tools.extend(d,o)}var n=Math.max.apply(null,Object.keys(d));d[n]&&IOL.adv.tools.track({e:"hb.cpm",key:"hb.cpm."+d[n].bidder,div:d[n].id+"."+d[n].size,t:Math.round(1e5*n)/1e5,lv:"info"})}!e.isEmpty&&"38840327"!=e.advertiserId||(a=e.slot.getSlotElementId(),IOL.adv.tools.logger(a+" : call displayPrebidOnDemand, ads is "+(e.isEmpty?"empty":"autopromo:advertiserId:"+e.advertiserId),classFunc),IOL.adv.tools.displayPrebidOnDemand(a,"defaultRendering")),IOL.adv.tools.trkPerf("iamRenderingEnd",Math.floor(performance.now()),!0),IOL.adv.tools.track({e:"time.rendering",key:"time.rendering.gpt."+(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),t:Math.floor(performance.now()),lv:"info"}),"function"==typeof IamCallbackSlotRenderEnded&&(IOL.adv.tools.logger("Hook IamCallbackSlotRenderEnded for "+e.slot.getSlotElementId(),classFunc),IamCallbackSlotRenderEnded())}catch(e){IOL.adv.tools.logger("error in googletag.cmd.push:"+e.message,classFunc,"error")}})),IOL.adv.tools.logger("End function. ",classFunc)}))},setCustomCriteria:function(){var e=IOL.adv.manager.classname+".setCustomCriteria",a=(IOL.adv.tools.logger("Start function",e),IOL.adv.getConsentString()),d={oe:{condition:"string"==typeof document.characterSet,value:document.characterSet,otherwise:"UTF-8"},optout:{condition:IOL.adv.profile.enable,value:"0",otherwise:"1"},adv_infocus:{condition:IOL.adv.hasFocus,value:"yes",otherwise:"no"},adv_np:{condition:IOL.adv.cookie.get("ADV_NP"),value:"yes"},adv_topics:{condition:0<IOL.adv.topics.length,value:IOL.adv.topics},adv_referrer:{condition:!0,value:IOL.adv.referrerLabel},adv_sgt:{condition:!0,value:IOL.adv.tools.randomInt(1,4)},pbjs_version:{condition:IOL.adv.headerBidding.prebidjs.enable,value:IOL.adv.headerBidding.prebidjs.version},native:{condition:!1!==IOL.adv.pubAdsCfg.native,value:IOL.adv.pubAdsCfg.native},is_native:{condition:!1!==IOL.adv.pubAdsCfg.native,value:""!==IOL.adv.pubAdsCfg.native?"yes":"no",otherwise:"no"},"1plusx":{condition:IOL.adv.profile.enable&&!IOL.adv.profile.up.value.isMinor&&0<IOL.adv.profile.as.value.s.length,value:IOL.adv.profile.as.value.s},ctx1plusx:{condition:0<IOL.adv.profile.as.value.t.length,value:IOL.adv.profile.as.value.t},xdid_user:{condition:IOL.adv.getProfile("ppid.iol"),value:"true"},xdid_user_ui:{condition:1==IOL.adv.profile.up.value.ui,value:"true",otherwise:"false"},adv_sso1:{condition:IOL.adv.profile.enable&&IOL.adv.profile.up.value.age,value:IOL.adv.profile.up.value.age,otherwise:"0"},adv_sso2:{condition:IOL.adv.profile.enable&&IOL.adv.profile.up.value.gender,value:IOL.adv.profile.up.value.gender,otherwise:"0"},adv_sso3:{condition:IOL.adv.profile.enable&&IOL.adv.profile.up.value.province,value:IOL.adv.profile.up.value.province,otherwise:"0"},seat_keyword:{condition:IOL.adv.profile.enable&&IOL.adv.profile.up.value.ext.seat_keyword,value:IOL.adv.profile.up.value.ext.seat_keyword},us_ua:{condition:IOL.adv.profile.up.value.isMinor,value:"true",otherwise:"false"},gdpr:{condition:0!=a,value:"1",otherwise:"0"},gdpr_consent:{condition:""!=a,value:a},kw_test:{condition:null!==IOL.adv.tools.getParameterByName("kw_test"),value:IOL.adv.tools.getParameterByName("kw_test")},siz_hostname:{condition:!0,value:IOL.adv.hostname},siz_devicetype:{condition:!0,value:IOL.adv.device}};IOL.adv.pubAdsCfg.customCriteria&&Object.keys(IOL.adv.pubAdsCfg.customCriteria).forEach((function(a){IOL.adv.tools.logger("Manage client customCriteria: "+a+" value:"+IOL.adv.pubAdsCfg.customCriteria[a],e),""!==IOL.adv.pubAdsCfg.customCriteria[a]&&(d[a]={condition:!1,value:!1},d[a].condition=!0,d[a].value=String(IOL.adv.pubAdsCfg.customCriteria[a]).replace(/\|/g,","))})),IOL.adv.manager.customCriteria.map=IOL.adv.tools.extend(IOL.adv.manager.customCriteria.map,d),IOL.adv.profile.up.value.isMinor&&(delete IOL.adv.manager.customCriteria.map.adv_sso1,delete IOL.adv.manager.customCriteria.map.adv_sso2,delete IOL.adv.manager.customCriteria.map.adv_sso3),Object.keys(IOL.adv.manager.customCriteria.map).forEach((function(a){var d;IOL.adv.tools.logger("Manage Target: "+a+" :: condition: "+IOL.adv.manager.customCriteria.map[a].condition+" :: value: "+IOL.adv.manager.customCriteria.map[a].value+" :: otherwise: "+IOL.adv.manager.customCriteria.map[a].otherwise,e),IOL.adv.manager.customCriteria.map[a].condition&&void 0!==IOL.adv.manager.customCriteria.map[a].value?(d=String(IOL.adv.manager.customCriteria.map[a].value),IOL.adv.manager.customCriteria.set[a]=d,IOL.adv.tools.logger("Condition is true for Target: "+a+" :: assign value: "+d,e),googletag.pubads().setTargeting(a,d)):IOL.adv.manager.customCriteria.map[a].otherwise?(googletag.pubads().setTargeting(a,IOL.adv.manager.customCriteria.map[a].otherwise),IOL.adv.manager.customCriteria.set[a]=IOL.adv.manager.customCriteria.map[a].otherwise,IOL.adv.tools.logger("Condition is false, otherwise is configured for Target: "+a+" :: assign value: "+IOL.adv.manager.customCriteria.map[a].otherwise,e)):IOL.adv.tools.logger("Condition is false, otherwise is not configured for Target: "+a+", custom criteria has not been set",e)})),IOL.adv.tools.logger("end function",e)},createAds:function(e,a){var d,t,i=IOL.adv.manager.classname+".createAds";IOL.adv.tools.logger("Start function",i),a=a||0;try{IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.enable&&e&&(d=a+1,t=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.hasOwnProperty("customSepator")?IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.customSepator:"/",IOL.adv.mode="dynamic",IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e]={},IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].divId=e,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].adUnitPath=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.adUnitPath+t+d,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].size=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.size,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].mediaType="display",IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].optional=!0,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].sizeIsCompliant=!0,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].forceSafeFrame=!1,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.ketai&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].ketai=Object.assign({},IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.ketai),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].ketai.html)&&(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].ketai.html=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].ketai.html.replace("%IDX%",d)),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].customCriteria=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.customCriteria||!1,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].bidAmazon=!0,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].fnBefore=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.fnBefore||!1,IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].fnAfter=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].dynamic.fnAfter||!1,IOL.adv.tools.logger("Create dynamic ads with id: "+e+", idx: "+a,i),IOL.adv.headerBidding.enable&&IOL.adv.settings.prebidjs.dynamicAdUnits?IOL.adv.settings.prebidjs.dynamicAdUnits[a]?(IOL.adv.settings.prebidjs.dynamicAdUnits[a].code=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e].divId,IOL.adv.settings.prebidjs.adUnits.push(Object.assign({},IOL.adv.settings.prebidjs.dynamicAdUnits[a])),IOL.adv.tools.logger("Prebid adUnit code found for ads: "+e,i)):IOL.adv.tools.logger("Prebid adUnit code not found for ads: "+e,i):IOL.adv.tools.logger("Prebid disabled for ads: "+e,i),IOL.adv.tools.logger("End function",i))}catch(e){}}},IOL.adv.headerBidding={classname:"IOL.adv.headerBidding",enable:!0,bids:!1,hbTimeout:2e3,bidderTimeout:1500,supplyChainSid:"54356",bidders:[],requestManager:{adServerRequestSent:!1,timer:!1,timedOut:!1},amazon:{id:"amazon",enable:!1,init:!1,pubID:"3204",adServer:"googletag",deals:!0,videoAdServer:"DFP",excludeSizes:[[1,1],[320,100],[336,250],[336,280],[728,1],[970,270]],slots:[],slotsDisplay:[],slotsVideo:[],bids:!1,videoBid:""},prebidjs:{id:"prebidjs",version:"0",enable:!1,adUnits:[],bids:!1,customConfigObject:{buckets:[{precision:2,max:3,increment:.01},{precision:2,max:8,increment:.05},{precision:2,max:20,increment:.5},{precision:2,max:30,increment:1}]},customSizeConfig:[{mediaQuery:"(min-width: 1025px)",sizesSupported:[[1800,1e3],[1200,90],[970,250],[970,90],[728,90],[640,480],[300,250],[300,600],[100,200],[1,1]],labels:["desktop"]},{mediaQuery:"(min-width: 766px) and (max-width: 1024px)",sizesSupported:[[728,90],[640,480],[300,250],[300,600],[100,200],[1,1]],labels:["tablet"]},{mediaQuery:"(min-width: 320px) and (max-width: 765px)",sizesSupported:[[640,300],[640,480],[300,250],[300,600],[300,50],[320,50],[320,100],[100,200],[1,1]],labels:["mobile"]}]},init:function(e,a,d,t,i){var o,n,s,r=IOL.adv.headerBidding.classname+".init";IOL.adv.tools.logger("Start function",r),IOL.adv.headerBidding.enable=!1,IOL.adv.headerBidding.pipeline=i||"display",IOL.adv.headerBidding.amazon.enable=!1,IOL.adv.headerBidding.amazon.slots=[],IOL.adv.headerBidding.amazon.slotsVideo=[],IOL.adv.headerBidding.amazon.slotsDisplay=[],IOL.adv.headerBidding.amazon.bids=!1,IOL.adv.headerBidding.amazon.videoBid="",IOL.adv.headerBidding.prebidjs.enable=!1,IOL.adv.headerBidding.prebidjs.bids=!1,IOL.adv.headerBidding.bidders=[],IOL.adv.headerBidding.requestManager={},IOL.adv.headerBidding.requestManager.adServerRequestSent=!1,IOL.adv.headerBidding.requestManager.timedOut=!1,IOL.adv.pubAdsCfg.prebid&&IOL.adv.gdpr.enable&&!IOL.adv.profile.up.value.isMinor?(a=a||[],IOL.adv.settings.hbTimeout&&(IOL.adv.tools.logger("override hbTimeout: "+IOL.adv.settings.hbTimeout,r),IOL.adv.headerBidding.hbTimeout=IOL.adv.settings.hbTimeout),IOL.adv.settings.bidderTimeout&&(IOL.adv.tools.logger("override bidderTimeout: "+IOL.adv.settings.bidderTimeout,r),IOL.adv.headerBidding.bidderTimeout=IOL.adv.settings.bidderTimeout),IOL.adv.tools.logger("HeaderBidding, start compliance check for Amazon.",r),"undefined"!=typeof apstag&&IOL.adv.gdpr.consentString?(Object.keys(e).forEach((function(a){var d,t,i=e[a],o=[];i.size&&(o=i.size.filter(IOL.adv.tools.filterArrayInArray,{list:IOL.adv.headerBidding.amazon.excludeSizes})),IOL.adv.tools.logger("HeaderBidding Amazon for "+a+" :: ad.bidAmazon:"+i.bidAmazon+", ad.mediaType:"+i.mediaType+", ad.sizeIsCompliant:"+i.sizeIsCompliant+", ad.divIdReady:"+i.divIdReady+", sizes:"+o,r),i.bidAmazon&&i.sizeIsCompliant&&i.divIdReady&&0<o.length?(IOL.adv.tools.logger("HeaderBidding Amazon enable for "+a,r),"display"==i.mediaType&&"multi-format"==i.bidAmazon&&i.hasOwnProperty("bidAmazonMultiFormatProperties")&&(d=!0,i.bidAmazonMultiFormatProperties.hasOwnProperty("condition")&&"function"==typeof i.bidAmazonMultiFormatProperties.condition&&(d=i.bidAmazonMultiFormatProperties.condition()),t=i.bidAmazonMultiFormatProperties.hasOwnProperty("multiFormatProperties")?i.bidAmazonMultiFormatProperties.multiFormatProperties:i.bidAmazonMultiFormatProperties,IOL.adv.tools.logger("condition "+d+" on "+a+" for HeaderBidding Amazon multi-format",r),d?IOL.adv.headerBidding.amazon.slotsDisplay.push({slotID:i.divId,slotName:i.adUnitPath,mediaType:"multi-format",multiFormatProperties:t}):(o=t.display.sizes.filter(IOL.adv.tools.filterArrayInArray,{list:IOL.adv.headerBidding.amazon.excludeSizes}),i.bidAmazon=!0)),"display"==i.mediaType&&1==i.bidAmazon&&(IOL.adv.tools.logger("HeaderBidding Amazon add display slot "+a,r),IOL.adv.headerBidding.amazon.slotsDisplay.push({slotID:i.divId,slotName:i.adUnitPath,sizes:o})),"display"==i.mediaType&&"outstream"==i.bidAmazon&&(IOL.adv.tools.logger("HeaderBidding Amazon add outstream slot "+a,r),IOL.adv.headerBidding.amazon.slotsDisplay.push({slotID:i.divId,mediaType:"video"})),"video"==i.mediaType&&IOL.adv.headerBidding.amazon.slotsVideo.push({slotID:"videoSlot",mediaType:"video"})):IOL.adv.tools.logger("HeaderBidding Amazon disable for "+a,r)})),0<IOL.adv.headerBidding.amazon.slotsDisplay.length?IOL.adv.headerBidding.amazon.slots=IOL.adv.headerBidding.amazon.slotsDisplay:IOL.adv.headerBidding.amazon.slots=IOL.adv.headerBidding.amazon.slotsVideo,0<IOL.adv.headerBidding.amazon.slots.length&&(IOL.adv.headerBidding.amazon.enable=!0,IOL.adv.headerBidding.bidders.push(IOL.adv.headerBidding.amazon.id),IOL.adv.headerBidding.apstagInit(),IOL.adv.tools.logger("HeaderBidding amazon compliant and initialized.",r))):IOL.adv.tools.logger("HeaderBidding amazon: apstag is not defined or consentString is false",r),IOL.adv.tools.logger("HeaderBidding amazon enable: "+IOL.adv.headerBidding.amazon.enable,r),IOL.adv.tools.logger("HeaderBidding, start compliance check for prebidjs.",r),"undefined"!=typeof pbjs&&0<a.length?(IOL.adv.headerBidding.prebidjs.version=pbjs.version,IOL.adv.headerBidding.prebidjs.enable=!0,IOL.adv.headerBidding.bidders.push(IOL.adv.headerBidding.prebidjs.id),pbjs.removeAdUnit(),o={keyValues:{adv_sso1:[IOL.adv.profile.enable&&IOL.adv.profile.up.value.age||"0"],adv_sso2:[IOL.adv.profile.enable&&IOL.adv.profile.up.value.gender||"0"],gam_failover:[IOL.adv.gdpr.consentGoogle?"false":"true"]}},IOL.adv.profile.up.value.isMinor&&(o={keyValues:{gam_failover:[IOL.adv.gdpr.consentGoogle?"false":"true"]}}),n={keywords:{gam_failover:[IOL.adv.gdpr.consentGoogle?"false":"true"],"1plusx":IOL.adv.profile.enable?IOL.adv.profile.as.value.s:[],ctx1plusx:IOL.adv.profile.as.value.t}},s=IOL.adv.tools.pbjsHybridCondition(),a.forEach((function(e){e.bids.find(IOL.adv.headerBidding.addObjOnBidderParams,{bidder:"improvedigital",kv:o}),e.bids.find(IOL.adv.headerBidding.addObjOnBidderParams,{bidder:"appnexus",kv:n}),s&&IOL.adv.headerBidding.filteringPbjsHybrid(e);try{var a;e.hasOwnProperty("ortb2Imp")||(a=(e.mediaTypes.hasOwnProperty("video")&&"instream"===e.mediaTypes.video.context?IOL.adv.videoAds:IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[IOL.adv.manager.divIdAdsIdMap[e.code]]).adUnitPath,e.ortb2Imp={ext:{gpid:a,data:{pbadslot:a}}})}catch(a){IOL.adv.tools.logger("add gpid on: "+e.code,r,"error")}})),pbjs.setConfig({useBidCache:!0}),pbjs.setConfig({targetingControls:{addTargetingKeys:["SOURCE","CACHE_ID","ADOMAIN"]}}),pbjs.bidderSettings={adform:{bidCpmAdjustment:function(e){return.88*e}},smartx:{bidCpmAdjustment:function(e){return+e}},ias:{alwaysUseBid:!0,sendStandardTargeting:!1,suppressEmptyKeys:!0,adserverTargeting:[{key:"adt",val:function(e){return e.adt}},{key:"alc",val:function(e){return e.alc}},{key:"dlm",val:function(e){return e.dlm}},{key:"drg",val:function(e){return e.drg}},{key:"hat",val:function(e){return e.hat}},{key:"off",val:function(e){return e.off}},{key:"vio",val:function(e){return e.vio}},{key:"fr",val:function(e){return e.fr}},{key:"id",val:function(e){return e.slots[e.adUnitCode].id}},{key:"vw",val:function(e){return e.slots[e.adUnitCode].vw}},{key:"grm",val:function(e){return e.slots[e.adUnitCode].grm}},{key:"pub",val:function(e){return e.slots[e.adUnitCode].pub}}]}},pbjs.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:IOL.adv.hostname,uids:[{id:IOL.adv.getProfile("ppid.zeo"),atype:3,ext:{stype:"hemsha256"}}]}]}}}}}}),pbjs.bidderSettings=pbjs.bidderSettings||{},pbjs.bidderSettings.standard=pbjs.bidderSettings.standard||{},pbjs.bidderSettings.standard.storageAllowed=IOL.adv.deviceAccess.enable,pbjs.que.push((function(){IOL.adv.tools.logger("HeaderBidding prebidjs, Start pbjs.que.push",r);var e={},d=(IOL.adv.gdpr.enable&&(IOL.adv.tools.logger("apply GDPR TCF v2.0",r),e={gdpr:{cmpApi:"iab",timeout:2e3,defaultGdprScope:!0}},"static"==IOL.adv.gdpr.tcfv20.pipeline.cmpApi)&&(IOL.adv.tools.logger("method is static, consentData: "+IOL.adv.gdpr.consentString,r),e={gdpr:{cmpApi:"static",consentData:{getTCData:{tcString:IOL.adv.gdpr.consentString,gdprApplies:!0}}}}),IOL.adv.headerBidding.supplyChainSid&&pbjs.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"italiaonline.it",sid:IOL.adv.headerBidding.supplyChainSid,hp:1}]}}}),[{provider:"id5Analytics",options:{partnerId:522}}]);IOL.adv.tools.mEnable("liveramp")&&IOL.adv.settings.modules.liveramp.atsAnalytics&&d.push({provider:"atsAnalytics",options:{pid:"1274"}}),pbjs.enableAnalytics(d),d=[];IOL.adv.deviceAccess.enable&&(d=[{name:"zeotapIdPlus"},{name:"id5Id",params:{partner:522,pd:"",abTesting:{enabled:!0,controlGroupPct:.15}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"identityLink",params:{pid:"1274"},storage:{type:"cookie",name:"idl_env",expires:90,refreshInSeconds:900}}]),pbjs.setConfig({enableSendAllBids:!0,priceGranularity:IOL.adv.headerBidding.prebidjs.customConfigObject,currency:{adServerCurrency:"USD"},sizeConfig:IOL.adv.headerBidding.prebidjs.customSizeConfig,deviceAccess:IOL.adv.deviceAccess.enable,userSync:{syncEnabled:IOL.adv.deviceAccess.enable,filterSettings:{iframe:{bidders:"*",filter:"include"}},userIds:d},bidderTimeout:IOL.adv.headerBidding.bidderTimeout,rubicon:{singleRequest:!0},improvedigital:{usePrebidSizes:!0,singleRequest:!0},consentManagement:e}),pbjs.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}),pbjs.aliasBidder("smartadserver","smart"),a.forEach((function(e){e.bids.forEach((function(a){a.params.displayFallback&&(IOL.adv.gdpr.consentGoogle||(IOL.adv.tools.logger(e.code+": displayFallback found for "+a.bidder+", replace params with: "+JSON.stringify(a.params.displayFallback),r),a.params=Object.assign(a.params,a.params.displayFallback)),delete a.params.displayFallback)}))})),pbjs.addAdUnits(a),IOL.adv.tools.logger("HeaderBidding prebidjs compliant and initialized.",r)}))):IOL.adv.tools.logger("HeaderBidding prebidjs: pbjs is not defined or adUnits is empty",r),IOL.adv.tools.logger("HeaderBidding prebidjs enable: "+IOL.adv.headerBidding.prebidjs.enable,r),IOL.adv.headerBidding.bidders.forEach((function(e){IOL.adv.headerBidding.requestManager[e]=!1})),0<IOL.adv.headerBidding.bidders.length?(IOL.adv.settings.disableInitialLoad=!0,IOL.adv.headerBidding.enable=!0):(IOL.adv.headerBidding.enable=!1,IOL.adv.settings.disableInitialLoad=!1),IOL.adv.tools.logger("HeaderBidding enable: "+IOL.adv.headerBidding.enable,r),d&&d(),t&&t(),IOL.adv.tools.logger("End function",r)):(IOL.adv.tools.logger("HeaderBidding disabled",r),d&&d(),t&&t())},run:function(e){var a=IOL.adv.headerBidding.classname+".run";IOL.adv.tools.logger("Start function",a),disablePrebidDisplayFallback=IOL.adv.settings.disablePrebidDisplayFallback||!1,IOL.adv.displayEngine.prebid=!IOL.adv.gdpr.consentGoogle&&IOL.adv.headerBidding.prebidjs.enable&&!disablePrebidDisplayFallback,IOL.adv.displayEngine.gpt=!(IOL.adv.displayEngine.prebid||IOL.adv.displayEngine.mgid||IOL.adv.displayEngine.ketai),IOL.adv.headerBidding.enable?(IOL.adv.headerBidding.fetchBids(e),IOL.adv.headerBidding.requestManager.timer=window.setTimeout((function(){IOL.adv.headerBidding.sendAdserverRequest((function(){IOL.adv.headerBidding.adServerRequestTimedOut(e)}))}),IOL.adv.headerBidding.hbTimeout),IOL.adv.tools.logger("End function",a)):(IOL.adv.tools.logger("HeaderBidding disabled",a),e&&e())},fetchBids:function(e){var a=IOL.adv.headerBidding.classname+".fetchBids";IOL.adv.tools.trkPerf("iamHBStart",Math.floor(performance.now())),IOL.adv.tools.track({e:"time.hbStart",t:Math.floor(performance.now()),lv:"info"}),IOL.adv.headerBidding.amazon.enable?(IOL.adv.tools.logger("Start fetch bids for amazon.",a),apstag.fetchBids({slots:IOL.adv.headerBidding.amazon.slots,timeout:IOL.adv.headerBidding.bidderTimeout},(function(d){IOL.adv.tools.logger("amazon response: "+JSON.stringify(d),a),IOL.adv.headerBidding.amazon.bids=d,IOL.adv.headerBidding.headerBidderBack(IOL.adv.headerBidding.amazon.id,e)}))):IOL.adv.tools.logger("amazon is disable.",a),IOL.adv.headerBidding.prebidjs.enable?(IOL.adv.tools.logger("Start fetch bids for pbjs :: adUnit: "+JSON.stringify(pbjs.adUnits),a),pbjs.requestBids({bidsBackHandler:function(d){IOL.adv.tools.logger("pbjs response: "+JSON.stringify(d),a),IOL.adv.headerBidding.headerBidderBack(IOL.adv.headerBidding.prebidjs.id,e)},timeout:IOL.adv.headerBidding.bidderTimeout})):IOL.adv.tools.logger("pbjs is disable.",a)},adServerRequestTimedOut:function(e){var a=IOL.adv.headerBidding.classname+".adServerRequestTimedOut";!1!==IOL.adv.headerBidding.requestManager.timer&&(IOL.adv.headerBidding.requestManager.timedOut=!0,IOL.adv.tools.trkPerf("iamHBtimeout",Math.floor(performance.now())),IOL.adv.tools.track({e:"time.hbTimeout",t:Math.floor(performance.now()),lv:"warning"})),IOL.adv.tools.logger("requestManager.timedOut: "+IOL.adv.headerBidding.requestManager.timedOut,a);try{e&&(IOL.adv.tools.logger("Run callback in adServerRequestTimedOut "+e,a),e()),"function"==typeof IamCallbackOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackOnComplete",a),IamCallbackOnComplete())}catch(e){}},sendAdserverRequest:function(e){var a,d,t=IOL.adv.headerBidding.classname+".sendAdserverRequest";if(IOL.adv.tools.logger("Start function",t),!0===IOL.adv.headerBidding.requestManager.adServerRequestSent)IOL.adv.tools.logger("Request has been already sent",t);else if(IOL.adv.headerBidding.requestManager.adServerRequestSent=!0,clearTimeout(IOL.adv.headerBidding.requestManager.timer),IOL.adv.tools.logger("Request has not been sent, start adServerRequest push",t),IOL.adv.headerBidding.prebidjs.enable&&0<Object.keys(pbjs.getBidResponses()).length&&!IOL.adv.profile.up.value.isMinor&&(IOL.adv.headerBidding.prebidjs.bids=!0),IOL.adv.tools.trkPerf("iamHBend",Math.floor(performance.now())),IOL.adv.tools.track({e:"time.hbEnd",key:"time.hbEnd."+(IOL.adv.headerBidding.prebidjs.bids?"bids":"nobids"),t:Math.floor(performance.now()),lv:"info"}),IOL.adv.profile.up.value.isMinor?IOL.adv.tools.logger("hb targeting discarded",t):(IOL.adv.headerBidding.amazon.enable&&(0<(a=IOL.adv.headerBidding.amazon.bids.filter((function(e){return"video"===e.mediaType}))).length&&(IOL.adv.tools.logger("set targeting for amazon video",t),a.forEach((function(e){e.hasOwnProperty("helpers")&&e.helpers.hasOwnProperty("encodedQsParams")&&IOL.adv.headerBidding.setAmazonVideoBid(e.helpers.encodedQsParams())}))),0<IOL.adv.headerBidding.amazon.slotsDisplay.length)&&googletag.cmd.push((function(){IOL.adv.tools.logger("set targeting for amazon",t),apstag.setDisplayBids()})),IOL.adv.headerBidding.prebidjs.enable&&googletag.cmd.push((function(){pbjs.que.push((function(){IOL.adv.tools.logger("set targeting for pbjs",t),pbjs.setTargetingForGPTAsync()}))}))),"video"==IOL.adv.headerBidding.pipeline){IOL.adv.tools.logger("HeaderBidding in videoOnly mode, skip the display strategy, callback: "+e,t),IOL.adv.complete=!0;try{"function"==typeof IamCallbackOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackOnComplete in sendAdserverRequest",t),IamCallbackOnComplete())}catch(e){}}else"refresh"===IOL.adv.mode?(IOL.adv.tools.logger("Ads start displayAds after headerBidding in refreshMode",t),IOL.adv.tools.displayAds({slotContainer:IOL.adv.manager.refreshSlotsContainer.slots})):IOL.adv.pubAdsCfg.lazy?(IOL.adv.tools.logger("Start Lazy loading after header bidding",t),d=[],Object.keys(IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads).forEach((function(e){var a,i=IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads[e];"display"==i.mediaType&&(i.lazy?(IOL.adv.tools.logger(i.divId+", lazy enabled for this ads, start intersectionObserver",t),(a=IOL.adv.tools.divIdReady(i,!0))&&(IOL.adv.settings.lazy.observer.obj.observe(a),IOL.adv.settings.lazy.divIdSlotIdMap[i.divId]=e)):(IOL.adv.tools.logger(i.divId+", lazy disable for this ads, add to unLazySlotsContainer",t),d.push(IOL.adv.manager.slotsContainer[e])))})),0<d.length&&(IOL.adv.tools.logger("start display the unLazySlotsContainer",t),IOL.adv.tools.displayAds({slotContainer:d}),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop)&&IOL.adv.tools.trkPerf("iamRenderingStartMpuTop",Math.floor(performance.now()))):(IOL.adv.tools.logger("displayAds after headerBidding",t),IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot].ads.admputop&&IOL.adv.tools.trkPerf("iamRenderingStartMpuTop",Math.floor(performance.now())),IOL.adv.tools.displayAds()),window.aax=window.aax||{},window.aax.cmd=window.aax.cmd||[],window.aax.cmd.push((function(){window.aax.getAbpStatus()&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){googletag.pubads().refresh()})))})),e&&(IOL.adv.tools.logger("Run callback: "+e,t),e()),"function"==typeof IamCallbackOnComplete&&(IOL.adv.tools.logger("Hook IamCallbackOnComplete in sendAdserverRequest",t),IamCallbackOnComplete()),IOL.adv.tools.logger("End function",t)},allBiddersBack:function(){return IOL.adv.headerBidding.classname,IOL.adv.headerBidding.bidders.map((function(e){return IOL.adv.headerBidding.requestManager[e]})).filter(Boolean).length===IOL.adv.headerBidding.bidders.length},headerBidderBack:function(e,a){var d=IOL.adv.headerBidding.classname+".headerBidderBack";!0!==IOL.adv.headerBidding.requestManager.adServerRequestSent&&(IOL.adv.headerBidding.requestManager[e]=!0,IOL.adv.tools.logger("HeaderBidding requestManager: "+JSON.stringify(IOL.adv.headerBidding.requestManager),d),IOL.adv.headerBidding.allBiddersBack())&&(IOL.adv.tools.logger("HeaderBidding allBiddersBack requestManager: "+JSON.stringify(IOL.adv.headerBidding.requestManager),d),IOL.adv.headerBidding.sendAdserverRequest(a))},addObjOnBidderParams:function(e){var a=IOL.adv.headerBidding.classname+".addObjOnBidderParams";try{e.bidder===this.bidder&&this.kv&&(IOL.adv.tools.logger(this.bidder+" code found, add keyValues: "+JSON.stringify(this.kv),a),e.params=Object.assign(e.params,this.kv))}catch(e){return!1}},replaceAdunitByCode:function(e){var a=IOL.adv.headerBidding.classname+".replaceAdunitByCode";try{e.code===this.code?(e.code=this.newcode,IOL.adv.tools.logger(this.code+" code found, replace prebid adUnit code",a)):IOL.adv.tools.logger(this.code+" code does not match "+e.code,a)}catch(e){return!1}},cloneAdunitByCode:function(e){var a,d=IOL.adv.headerBidding.classname+".cloneAdunitByCode";try{e.code===this.code?((a=Object.assign({},e)).code=this.newcode,IOL.adv.settings.prebidjs.adUnits.push(a),IOL.adv.tools.logger(this.code+" code found, prebid adUnit cloned",d)):IOL.adv.tools.logger(this.code+" code does not match "+e.code,d)}catch(e){return!1}},setAdunitPathByBidderCode:function(e){var a=IOL.adv.headerBidding.classname+".setAdunitPathByBidderCode";try{IOL.adv.tools.logger("Managing code: "+e.code+", try to find bidder: "+this.bidder,a),e.bids.forEach((function(e){IOL.adv.tools.logger("Compare bidder ["+e.bidder+"] with ["+this.bidder+"]",a),e.bidder==this.bidder?(e.params.adUnitPath=this.adUnitPath,IOL.adv.tools.logger(this.bidder+" bidder found, set "+e.params.adUnitPath+" as adUnitPath on "+this.code,a)):IOL.adv.tools.logger(e.bidder+" bidder does not match "+this.bidder,a)}),{bidder:this.bidder,adUnitPath:this.adUnitPath,code:e.code})}catch(e){return!1}},rmAdunitByCode:function(e){var a=IOL.adv.headerBidding.classname+".rmAdunitByCode";try{return e.code===this.code?(IOL.adv.tools.logger(this.code+" code found, remove item from prebid adUnit",a),!1):(IOL.adv.tools.logger(this.code+" code does not match "+e.code,a),!0)}catch(e){return!0}},getAdunitByCode:function(e){var a=IOL.adv.headerBidding.classname+".getAdunitByCode";try{if(e.code===this.code)return IOL.adv.tools.logger(this.code+" code found, remove item from prebid adUnit",a),!0;IOL.adv.tools.logger(this.code+" code does not match "+e.code,a)}catch(e){return!0}},findAdunitByMediaType:function(e){var a=IOL.adv.headerBidding.classname+".findAdunitByMediaType";try{return e.mediaTypes[this.mediaType]?(IOL.adv.tools.logger(this.mediaType+" adunit found",a),!0):(IOL.adv.tools.logger(this.mediaType+" adunit not found",a),!1)}catch(e){return!1}},apstagInit:function(){var e,a=IOL.adv.headerBidding.classname+".apstagInit";IOL.adv.headerBidding.amazon.init?IOL.adv.tools.logger("apstag init already done",a):(IOL.adv.headerBidding.amazon.init=!0,e=IOL.adv.headerBidding.supplyChainSid?[{asi:"italiaonline.it",sid:IOL.adv.headerBidding.supplyChainSid,hp:1}]:[],apstag.init({pubID:IOL.adv.headerBidding.amazon.pubID,adServer:IOL.adv.headerBidding.amazon.adServer,videoAdServer:IOL.adv.headerBidding.amazon.videoAdServer,deals:IOL.adv.headerBidding.amazon.deals,useSafeFrames:!!IOL.adv.settings.hasOwnProperty("amazonUseSafeFrames")&&IOL.adv.settings.amazonUseSafeFrames,gdpr:{enabled:IOL.adv.gdpr.enable,consent:IOL.adv.gdpr.consentString},schain:{complete:1,ver:"1.0",nodes:e}}),IOL.adv.tools.logger("apstag init done",a))},isEnable:function(){var e=IOL.adv.headerBidding.classname+".isEnable";return IOL.adv.tools.logger("return: "+IOL.adv.headerBidding.enable,e),IOL.adv.headerBidding.enable},isAmazonEnable:function(){var e=IOL.adv.headerBidding.classname+".isAmazonEnable";return IOL.adv.tools.logger("return: "+IOL.adv.headerBidding.amazon.enable,e),IOL.adv.headerBidding.amazon.enable},isPrebidJsEnable:function(){var e=IOL.adv.headerBidding.classname+".isPrebidJsEnable";return IOL.adv.tools.logger("return: "+IOL.adv.headerBidding.prebidjs.enable,e),IOL.adv.headerBidding.prebidjs.enable},getAmazonVideoBid:function(){var e=IOL.adv.headerBidding.classname+".getAmazonVideoBid";return IOL.adv.tools.logger("return videoBid:"+IOL.adv.headerBidding.amazon.videoBid,e),IOL.adv.headerBidding.amazon.videoBid},setAmazonVideoBid:function(e){var a=IOL.adv.headerBidding.classname+".setAmazonVideoBid";IOL.adv.headerBidding.amazon.videoBid+=e,IOL.adv.tools.logger("videoBid:"+IOL.adv.headerBidding.amazon.videoBid,a)},filteringPbjsHybrid:function(e){var a=IOL.adv.headerBidding.classname+".filteringPbjsHybrid",d=e,t="boolean"==typeof IOL.adv.settings.pbjsHybrid?{display:["appnexus","criteo","pubmatic"],videoInstream:["appnexus","criteo","pubmatic","freewheel-ssp","smartadserver"]}:IOL.adv.settings.pbjsHybrid,i=!1;switch(Object.keys(d.mediaTypes)[0]){case"video":"instream"===d.mediaTypes.video.context?i=!!t.hasOwnProperty("videoInstream")&&t.videoInstream:"outstream"===d.mediaTypes.video.context&&(i=!!t.hasOwnProperty("videoOutstream")&&t.videoOutstream);break;case"native":i=!!t.hasOwnProperty("native")&&t.native;break;default:i=!!t.hasOwnProperty("display")&&t.display}IOL.adv.tools.logger("pbjsHybrid filtering - mediaTypes:"+Object.keys(d.mediaTypes)[0]+("video"===Object.keys(d.mediaTypes)[0]?"("+d.mediaTypes.video.context+")":"")+", adunit:"+d.code+", bidders:"+(i&&i.join(",")),a),i&&(d.bids=d.bids.filter((function(e){return i.includes(e.bidder)})))}}),void 0!==IOL.adv)try{if(window.iamInitialized)IOL.adv.tools.logger("IAM has been already initialized","IOL.adv");else{if(window.iamInitialized=!0,window.pubAdsCfg||(window.pubAdsCfg={}),IOL.adv.tools.objAssigner(IOL.adv.pubAdsCfg,window.pubAdsCfg),IOL.adv.tools.debugInit(),IOL.adv.debug.tracking.attr.push("iam"+IOL.adv.version),IOL.adv.tools.trkPerf("iamInjection",Math.floor(performance.now())),IOL.adv.tools.track({e:"time.injection",t:Math.floor(performance.now()),lv:"info"}),void 0===IOL.adv.settings||IOL.adv.settings.error)throw IOL.adv.tools.track({e:"error.nameSpaceError",t:Math.floor(performance.now()),lv:"error"}),new Error("namespace missing");if(!IOL.adv.settings.slots[IOL.adv.pubAdsCfg.slot])throw IOL.adv.tools.track({e:"error.slotDoesNotExist",t:Math.floor(performance.now()),lv:"error"}),new Error("slot "+IOL.adv.pubAdsCfg.slot+" does not exist");function createElement(e){var a=document.createElement("script");(e=(a.type="text/javascript",a.setAttribute("nonce","hsf0pBuBryPFoQqOj0RBNg"),e.hasOwnProperty("src")&&(a.src=e.src,a.async=!0),e.hasOwnProperty("innerHTML")&&(a.innerHTML=e.innerHTML),document.getElementsByTagName("head")[0])).parentNode.insertBefore(a,e)}"function"==typeof IOL.adv.settings.abtest&&IOL.adv.settings.abtest(),IOL.adv.tools.mEnable("aax")&&function(){var e,a,d;window.aax=window.aax||{},d=d=((d=window.aax).initTime=(new Date).getTime(),d.pubId="AAXHTOHT6",d.ver="1.2",d.hst=window.location.hostname,"https://c.aaxads.com/aax.js?pub="+d.pubId+"&hst="+d.hst+"&ver="+d.ver),e=document.createElement("script"),a=document.getElementsByTagName("script")[0],e.type="text/javascript",e.async=!0,e.src=d,a.parentNode.insertBefore(e,a)}(),IOL.adv.tools.mEnable("antiAdBlock")&&(createElement({src:"https://fundingchoicesmessages.google.com/i/pub-2033535132705533?ers=1"}),createElement({innerHTML:"(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();"})),IOL.adv.pubAdsCfg.deferredRun&&(IOL.adv.pubAdsCfg.deferredDivId=!1,IOL.adv.pubAdsCfg.deferredDisplay=!0),IOL.adv.tools.logger("start loading 3rd party library","iam"),Object.keys(IOL.adv.settings.library).forEach((function(e){IOL.adv.settings.library[e].hasOwnProperty("gdpr")||IOL.adv.tools.inject(IOL.adv.settings.library[e])})),IOL.adv.pubAdsCfg.deferredDivId?IOL.adv.manager.deferredTimer=setInterval((function(){IOL.adv.tools.deferredDivIdReady((function(){IOL.adv.start()}))}),IOL.adv.manager.deferredInterval):IOL.adv.start(),window.addEventListener("beforeunload",(function(e){IOL.adv.tools.trkPerf("iamPageUnloadAdvComplete"+(IOL.adv.complete?"True":"False"),Math.floor(performance.now()),!IOL.adv.complete),IOL.adv.tools.track({e:"pageUnload",t:Math.floor(performance.now()),lv:"info"})}))}}catch(e){IOL.adv.tools.logger(e.message||e,"iam","error")};(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));